{
  "version": 3,
  "sources": ["../bundle-Ikgts2/checked-fetch.js", "../../../src/utils.ts", "../../../src/license.ts", "../../../src/webhook.ts", "../../../src/ratelimit.ts", "../../../src/diagnose.ts", "../../../src/cases.ts", "../../../src/index.ts", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-Ikgts2/middleware-insertion-facade.js", "../../../node_modules/wrangler/templates/middleware/common.ts", "../bundle-Ikgts2/middleware-loader.entry.ts"],
  "sourceRoot": "/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/.wrangler/tmp/dev-ZnCzRO",
  "sourcesContent": ["const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", "/**\n * \u30E6\u30FC\u30C6\u30A3\u30EA\u30C6\u30A3\u95A2\u6570\n */\n\n/**\n * SHA-256\u30CF\u30C3\u30B7\u30E5\u3092\u8A08\u7B97\n * @param input - \u30CF\u30C3\u30B7\u30E5\u5316\u3059\u308B\u6587\u5B57\u5217\n * @returns 64\u6587\u5B57\u306E16\u9032\u6570\u6587\u5B57\u5217\n */\nexport async function sha256(input: string): Promise<string> {\n  const encoder = new TextEncoder();\n  const data = encoder.encode(input);\n  const hashBuffer = await crypto.subtle.digest('SHA-256', data);\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  return hashHex;\n}\n", "/**\n * \u30E9\u30A4\u30BB\u30F3\u30B9\u691C\u8A3C\u30E2\u30B8\u30E5\u30FC\u30EB\n *\n * Lemon Squeezy License API \u3068\u306E\u9023\u643A\n * D1\u30AD\u30E3\u30C3\u30B7\u30E5\u306B\u3088\u308B\u691C\u8A3C\u7D50\u679C\u306E\u4FDD\u6301\n */\n\nimport { sha256 } from './utils';\n\n// \u30E9\u30A4\u30BB\u30F3\u30B9\u691C\u8A3C\u7D50\u679C\u306E\u578B\nexport interface LicenseValidation {\n  valid: boolean;\n  status: 'active' | 'inactive' | 'expired';\n  plan?: string;\n  expiresAt?: string | null;\n}\n\n// Lemon Squeezy API\u30EC\u30B9\u30DD\u30F3\u30B9\u306E\u578B\nexport interface LemonSqueezyResponse {\n  valid: boolean;\n  license_key?: {\n    status: string;\n    expires_at?: string | null;\n  };\n  meta?: {\n    variant_name?: string;\n  };\n  error?: string;\n}\n\n// Lemon Squeezy API \u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u306E\u578B\uFF08DI\u7528\uFF09\nexport type LemonSqueezyApiClient = (licenseKey: string) => Promise<LemonSqueezyResponse>;\n\n/**\n * \u30E9\u30A4\u30BB\u30F3\u30B9\u30AD\u30FC\u3092\u691C\u8A3C\n *\n * 1. D1\u30AD\u30E3\u30C3\u30B7\u30E5\u3092\u78BA\u8A8D\n * 2. \u30AD\u30E3\u30C3\u30B7\u30E5\u30DF\u30B9 or \u671F\u9650\u5207\u308C\u306E\u5834\u5408\u3001Lemon Squeezy API\u3092\u547C\u3073\u51FA\u3057\n * 3. \u7D50\u679C\u3092\u30AD\u30E3\u30C3\u30B7\u30E5\u306B\u4FDD\u5B58\n *\n * @param licenseKey - \u691C\u8A3C\u3059\u308B\u30E9\u30A4\u30BB\u30F3\u30B9\u30AD\u30FC\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @param lsApiClient - Lemon Squeezy API\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\uFF08\u30C6\u30B9\u30C8\u7528\u306BDI\u53EF\u80FD\uFF09\n */\nexport async function validateLicense(\n  licenseKey: string,\n  db: D1Database,\n  lsApiClient?: LemonSqueezyApiClient\n): Promise<LicenseValidation> {\n  const keyHash = await sha256(licenseKey);\n\n  // 1. \u30AD\u30E3\u30C3\u30B7\u30E5\u78BA\u8A8D\n  const cached = await db.prepare(`\n    SELECT * FROM license_cache\n    WHERE key_hash = ?\n    AND status = 'active'\n    AND datetime(last_verified_at, '+' || cache_ttl_seconds || ' seconds') > datetime('now')\n  `).bind(keyHash).first<{\n    status: string;\n    plan: string;\n    expires_at: string | null;\n  }>();\n\n  if (cached) {\n    return {\n      valid: true,\n      status: cached.status as 'active',\n      plan: cached.plan,\n      expiresAt: cached.expires_at\n    };\n  }\n\n  // 2. Lemon Squeezy API\u691C\u8A3C\n  const apiClient = lsApiClient || callLemonSqueezyValidate;\n  const lsResult = await apiClient(licenseKey);\n\n  // 3. \u30AD\u30E3\u30C3\u30B7\u30E5\u66F4\u65B0\n  const status = lsResult.valid ? 'active' : 'inactive';\n  const plan = lsResult.meta?.variant_name || 'basic';\n  const expiresAt = lsResult.license_key?.expires_at || null;\n\n  await db.prepare(`\n    INSERT OR REPLACE INTO license_cache\n    (key_hash, status, plan, expires_at, last_verified_at, updated_at)\n    VALUES (?, ?, ?, ?, datetime('now'), datetime('now'))\n  `).bind(keyHash, status, plan, expiresAt).run();\n\n  return {\n    valid: lsResult.valid,\n    status: status as 'active' | 'inactive',\n    plan,\n    expiresAt\n  };\n}\n\n/**\n * Lemon Squeezy License Validation API \u3092\u547C\u3073\u51FA\u3057\n * https://docs.lemonsqueezy.com/api/license-api\n */\nasync function callLemonSqueezyValidate(licenseKey: string): Promise<LemonSqueezyResponse> {\n  const response = await fetch('https://api.lemonsqueezy.com/v1/licenses/validate', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ license_key: licenseKey })\n  });\n\n  if (!response.ok) {\n    throw new Error(`Lemon Squeezy API error: ${response.status}`);\n  }\n\n  return response.json();\n}\n\n/**\n * \u8A8D\u8A3C\u30D8\u30C3\u30C0\u30FC\u304B\u3089\u30E9\u30A4\u30BB\u30F3\u30B9\u30AD\u30FC\u3092\u62BD\u51FA\n * @param authHeader - Authorization \u30D8\u30C3\u30C0\u30FC\u306E\u5024 (Bearer <key>)\n */\nexport function extractLicenseKey(authHeader: string | null): string | null {\n  if (!authHeader) return null;\n  const match = authHeader.match(/^Bearer\\s+(.+)$/i);\n  return match ? match[1] : null;\n}\n", "/**\n * Webhook\u51E6\u7406\u30E2\u30B8\u30E5\u30FC\u30EB\n *\n * Lemon Squeezy Webhook\u306E\u53D7\u4FE1\u3068\u51E6\u7406\n * - \u7F72\u540D\u691C\u8A3C\n * - \u30A4\u30D9\u30F3\u30C8\u5225\u30CF\u30F3\u30C9\u30EA\u30F3\u30B0\n */\n\nimport { sha256 } from './utils';\n\n// Webhook\u30DA\u30A4\u30ED\u30FC\u30C9\u306E\u578B\u5B9A\u7FA9\nexport interface WebhookPayload {\n  meta: {\n    event_name: string;\n  };\n  data: {\n    attributes: {\n      license_key: string;\n      status?: string;\n      expires_at?: string | null;\n    };\n  };\n}\n\n// \u5931\u52B9\u30A4\u30D9\u30F3\u30C8\u4E00\u89A7\nconst REVOCATION_EVENTS = [\n  'order_refunded',\n  'subscription_cancelled',\n  'subscription_expired',\n  'license_key_revoked'\n];\n\n// \u6709\u52B9\u5316\u30A4\u30D9\u30F3\u30C8\u4E00\u89A7\nconst ACTIVATION_EVENTS = [\n  'license_key_created',\n  'order_created',\n  'subscription_created'\n];\n\n/**\n * Webhook\u30A4\u30D9\u30F3\u30C8\u3092\u51E6\u7406\n *\n * @param payload - Webhook\u30DA\u30A4\u30ED\u30FC\u30C9\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n */\nexport async function handleWebhook(\n  payload: WebhookPayload,\n  db: D1Database\n): Promise<void> {\n  const eventName = payload.meta.event_name;\n  const licenseKey = payload.data.attributes.license_key;\n\n  if (!licenseKey) {\n    console.warn('Webhook payload missing license_key');\n    return;\n  }\n\n  const keyHash = await sha256(licenseKey);\n\n  // \u5931\u52B9\u30A4\u30D9\u30F3\u30C8\n  if (REVOCATION_EVENTS.includes(eventName)) {\n    await db.prepare(`\n      UPDATE license_cache\n      SET status = ?, updated_at = datetime('now')\n      WHERE key_hash = ?\n    `).bind('inactive', keyHash).run();\n\n    console.log(`License revoked: ${eventName}`);\n    return;\n  }\n\n  // \u6709\u52B9\u5316\u30A4\u30D9\u30F3\u30C8\n  if (ACTIVATION_EVENTS.includes(eventName)) {\n    const status = payload.data.attributes.status || 'active';\n    const expiresAt = payload.data.attributes.expires_at || null;\n\n    await db.prepare(`\n      INSERT OR REPLACE INTO license_cache\n      (key_hash, status, plan, expires_at, last_verified_at, updated_at)\n      VALUES (?, ?, 'basic', ?, datetime('now'), datetime('now'))\n    `).bind(keyHash, status, expiresAt).run();\n\n    console.log(`License activated: ${eventName}`);\n    return;\n  }\n\n  // \u672A\u77E5\u306E\u30A4\u30D9\u30F3\u30C8\u306F\u7121\u8996\n  console.log(`Ignoring unknown event: ${eventName}`);\n}\n\n/**\n * Webhook\u7F72\u540D\u3092\u691C\u8A3C\uFF08HMAC-SHA256\uFF09\n *\n * @param payload - \u751F\u306E\u30EA\u30AF\u30A8\u30B9\u30C8\u30DC\u30C7\u30A3\n * @param signature - X-Signature\u30D8\u30C3\u30C0\u30FC\u306E\u5024\n * @param secret - Webhook\u30B7\u30FC\u30AF\u30EC\u30C3\u30C8\n * @returns \u7F72\u540D\u304C\u6709\u52B9\u306A\u3089true\n */\nexport async function verifyWebhookSignature(\n  payload: string,\n  signature: string,\n  secret: string\n): Promise<boolean> {\n  if (!signature || !secret) {\n    return false;\n  }\n\n  try {\n    const encoder = new TextEncoder();\n    const key = await crypto.subtle.importKey(\n      'raw',\n      encoder.encode(secret),\n      { name: 'HMAC', hash: 'SHA-256' },\n      false,\n      ['sign']\n    );\n\n    const signatureBuffer = await crypto.subtle.sign('HMAC', key, encoder.encode(payload));\n    const expectedSignature = Array.from(new Uint8Array(signatureBuffer))\n      .map(b => b.toString(16).padStart(2, '0'))\n      .join('');\n\n    // \u30BF\u30A4\u30DF\u30F3\u30B0\u653B\u6483\u3092\u9632\u3050\u305F\u3081\u306E\u5B9A\u6570\u6642\u9593\u6BD4\u8F03\n    if (signature.length !== expectedSignature.length) {\n      return false;\n    }\n\n    let result = 0;\n    for (let i = 0; i < signature.length; i++) {\n      result |= signature.charCodeAt(i) ^ expectedSignature.charCodeAt(i);\n    }\n\n    return result === 0;\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Webhook\u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u30CF\u30F3\u30C9\u30EA\u30F3\u30B0\u3059\u308BHTTP\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8\u7528\u95A2\u6570\n *\n * @param request - HTTP\u30EA\u30AF\u30A8\u30B9\u30C8\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @param webhookSecret - Webhook\u30B7\u30FC\u30AF\u30EC\u30C3\u30C8\n * @returns HTTP\u30EC\u30B9\u30DD\u30F3\u30B9\n */\nexport async function handleWebhookRequest(\n  request: Request,\n  db: D1Database,\n  webhookSecret: string\n): Promise<Response> {\n  // POST\u30E1\u30BD\u30C3\u30C9\u306E\u307F\u8A31\u53EF\n  if (request.method !== 'POST') {\n    return new Response('Method Not Allowed', { status: 405 });\n  }\n\n  const signature = request.headers.get('X-Signature') || '';\n  const body = await request.text();\n\n  // \u7F72\u540D\u691C\u8A3C\n  const isValid = await verifyWebhookSignature(body, signature, webhookSecret);\n  if (!isValid) {\n    return new Response('Unauthorized', { status: 401 });\n  }\n\n  try {\n    const payload = JSON.parse(body) as WebhookPayload;\n    await handleWebhook(payload, db);\n    return new Response('OK', { status: 200 });\n  } catch (error) {\n    console.error('Webhook processing error:', error);\n    return new Response('Internal Server Error', { status: 500 });\n  }\n}\n", "/**\n * \u30EC\u30FC\u30C8\u5236\u9650\u30E2\u30B8\u30E5\u30FC\u30EB\n *\n * \u30B9\u30E9\u30A4\u30C7\u30A3\u30F3\u30B0\u30A6\u30A3\u30F3\u30C9\u30A6\u65B9\u5F0F\u3067\u30EA\u30AF\u30A8\u30B9\u30C8\u6570\u3092\u5236\u9650\n * D1\u3092\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u30B9\u30C8\u30EC\u30FC\u30B8\u3068\u3057\u3066\u4F7F\u7528\n */\n\n// \u30EC\u30FC\u30C8\u5236\u9650\u8A2D\u5B9A\nexport interface RateLimitConfig {\n  maxRequests: number;\n  windowSeconds: number;\n}\n\n// \u30EC\u30FC\u30C8\u5236\u9650\u7D50\u679C\nexport interface RateLimitResult {\n  allowed: boolean;\n  remaining: number;\n  retryAfter?: number;\n}\n\n// \u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u306E\u30EC\u30B3\u30FC\u30C9\u578B\ninterface RateLimitRecord {\n  identifier: string;\n  request_count: number;\n  window_start: string;\n}\n\n// \u30C7\u30D5\u30A9\u30EB\u30C8\u8A2D\u5B9A\nexport const DEFAULT_RATE_LIMIT: RateLimitConfig = {\n  maxRequests: 100,\n  windowSeconds: 60\n};\n\n/**\n * \u30EC\u30FC\u30C8\u5236\u9650\u3092\u30C1\u30A7\u30C3\u30AF\n *\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @param identifier - \u8B58\u5225\u5B50\uFF08IP or \u30E9\u30A4\u30BB\u30F3\u30B9\u30AD\u30FC\u30CF\u30C3\u30B7\u30E5\uFF09\n * @param config - \u30EC\u30FC\u30C8\u5236\u9650\u8A2D\u5B9A\n * @returns \u30EC\u30FC\u30C8\u5236\u9650\u7D50\u679C\n */\nexport async function checkRateLimit(\n  db: D1Database,\n  identifier: string,\n  config: RateLimitConfig = DEFAULT_RATE_LIMIT\n): Promise<RateLimitResult> {\n  const now = Date.now();\n\n  // \u73FE\u5728\u306E\u30EC\u30B3\u30FC\u30C9\u3092\u53D6\u5F97\n  const record = await db.prepare(`\n    SELECT identifier, request_count, window_start\n    FROM rate_limits\n    WHERE identifier = ?\n  `).bind(identifier).first<RateLimitRecord>();\n\n  // \u30EC\u30B3\u30FC\u30C9\u304C\u5B58\u5728\u3057\u306A\u3044\u5834\u5408 - \u65B0\u898F\u4F5C\u6210\n  if (!record) {\n    await db.prepare(`\n      INSERT INTO rate_limits (identifier, request_count, window_start)\n      VALUES (?, 1, datetime('now'))\n    `).bind(identifier).run();\n\n    return {\n      allowed: true,\n      remaining: config.maxRequests - 1\n    };\n  }\n\n  // \u30A6\u30A3\u30F3\u30C9\u30A6\u306E\u958B\u59CB\u6642\u523B\u3092\u89E3\u6790\n  const windowStart = new Date(record.window_start).getTime();\n  const windowEnd = windowStart + config.windowSeconds * 1000;\n\n  // \u30A6\u30A3\u30F3\u30C9\u30A6\u304C\u671F\u9650\u5207\u308C\u306E\u5834\u5408 - \u30EA\u30BB\u30C3\u30C8\n  if (now >= windowEnd) {\n    await db.prepare(`\n      UPDATE rate_limits\n      SET request_count = 1, window_start = datetime('now')\n      WHERE identifier = ?\n    `).bind(identifier).run();\n\n    return {\n      allowed: true,\n      remaining: config.maxRequests - 1\n    };\n  }\n\n  // \u5236\u9650\u8D85\u904E\u30C1\u30A7\u30C3\u30AF\n  if (record.request_count >= config.maxRequests) {\n    const retryAfter = Math.ceil((windowEnd - now) / 1000);\n    return {\n      allowed: false,\n      remaining: 0,\n      retryAfter\n    };\n  }\n\n  // \u30AB\u30A6\u30F3\u30C8\u5897\u52A0\n  await db.prepare(`\n    UPDATE rate_limits\n    SET request_count = request_count + 1\n    WHERE identifier = ?\n  `).bind(identifier).run();\n\n  return {\n    allowed: true,\n    remaining: config.maxRequests - record.request_count - 1\n  };\n}\n\n/**\n * \u30EC\u30FC\u30C8\u5236\u9650\u30D8\u30C3\u30C0\u30FC\u3092\u751F\u6210\n *\n * @param result - \u30EC\u30FC\u30C8\u5236\u9650\u7D50\u679C\n * @param config - \u30EC\u30FC\u30C8\u5236\u9650\u8A2D\u5B9A\n * @returns HTTP\u30D8\u30C3\u30C0\u30FC\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\n */\nexport function getRateLimitHeaders(\n  result: RateLimitResult,\n  config: RateLimitConfig = DEFAULT_RATE_LIMIT\n): Record<string, string> {\n  const headers: Record<string, string> = {\n    'X-RateLimit-Limit': config.maxRequests.toString(),\n    'X-RateLimit-Remaining': result.remaining.toString()\n  };\n\n  if (!result.allowed && result.retryAfter) {\n    headers['Retry-After'] = result.retryAfter.toString();\n  }\n\n  return headers;\n}\n\n/**\n * \u30EC\u30FC\u30C8\u5236\u9650\u30A8\u30E9\u30FC\u30EC\u30B9\u30DD\u30F3\u30B9\u3092\u751F\u6210\n *\n * @param result - \u30EC\u30FC\u30C8\u5236\u9650\u7D50\u679C\n * @param config - \u30EC\u30FC\u30C8\u5236\u9650\u8A2D\u5B9A\n * @returns HTTP\u30EC\u30B9\u30DD\u30F3\u30B9\n */\nexport function rateLimitResponse(\n  result: RateLimitResult,\n  config: RateLimitConfig = DEFAULT_RATE_LIMIT\n): Response {\n  const headers = getRateLimitHeaders(result, config);\n\n  return new Response(\n    JSON.stringify({\n      error: 'Too Many Requests',\n      retryAfter: result.retryAfter\n    }),\n    {\n      status: 429,\n      headers: {\n        'Content-Type': 'application/json',\n        ...headers\n      }\n    }\n  );\n}\n", "/**\n * \u8A3A\u65AD\u30A8\u30F3\u30B8\u30F3\u30E2\u30B8\u30E5\u30FC\u30EB\n *\n * \u6613\u7D4C\uFF08\u516B\u5366\uFF09\u306B\u57FA\u3065\u304F\u8A3A\u65AD\u30ED\u30B8\u30C3\u30AF\n * 10\u306E\u8CEA\u554F\u304B\u3089\u300C\u524D\u306E\u72B6\u614B\u300D\u300C\u5F8C\u306E\u72B6\u614B\u300D\u3092\u8A08\u7B97\n */\n\n// \u516B\u5366\u5B9A\u7FA9\nconst TRIGRAMS = ['\u4E7E', '\u514C', '\u96E2', '\u9707', '\u5DFD', '\u574E', '\u826E', '\u5764'] as const;\ntype Trigram = typeof TRIGRAMS[number];\n\n// \u516B\u5366\u30B7\u30F3\u30DC\u30EB\nconst TRIGRAM_SYMBOLS: Record<Trigram, string> = {\n  '\u4E7E': '\u2630', '\u514C': '\u2631', '\u96E2': '\u2632', '\u9707': '\u2633',\n  '\u5DFD': '\u2634', '\u574E': '\u2635', '\u826E': '\u2636', '\u5764': '\u2637'\n};\n\n// \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\nconst PATTERN_TYPES = [\n  'Expansion_Growth',\n  'Contraction_Decline',\n  'Transformation_Shift',\n  'Stability_Maintenance',\n  'Crisis_Recovery',\n  'Emergence_Innovation'\n] as const;\ntype PatternType = typeof PATTERN_TYPES[number];\n\n// \u5165\u529B\u578B\nexport interface DiagnosisInput {\n  answers: number[];\n}\n\n// \u8A3A\u65AD\u7D50\u679C\u578B\nexport interface DiagnosisResult {\n  hexagram: string;\n  beforeTrigram: Trigram;\n  afterTrigram: Trigram;\n  summary: string;\n  fullAnalysis: string;\n  recommendedActions: string[];\n  patternType: PatternType;\n}\n\n// \u30D7\u30EC\u30D3\u30E5\u30FC\u30EC\u30B9\u30DD\u30F3\u30B9\u578B\nexport interface PreviewResponse {\n  hexagram: string;\n  beforeTrigram: Trigram;\n  afterTrigram: Trigram;\n  summary: string;\n  isPreview: true;\n  fullAnalysis?: undefined;\n  recommendedActions?: undefined;\n}\n\n// \u30D5\u30EB\u30EC\u30B9\u30DD\u30F3\u30B9\u578B\nexport interface FullResponse extends Omit<DiagnosisResult, never> {\n  isPreview: false;\n}\n\n/**\n * \u8A3A\u65AD\u3092\u8A08\u7B97\n *\n * @param input - 10\u500B\u306E\u56DE\u7B54\uFF08\u54041-3\uFF09\n * @returns \u8A3A\u65AD\u7D50\u679C\n */\nexport function computeDiagnosis(input: DiagnosisInput): DiagnosisResult {\n  const { answers } = input;\n\n  // \u30D0\u30EA\u30C7\u30FC\u30B7\u30E7\u30F3\n  if (answers.length !== 10) {\n    throw new Error('10 answers required');\n  }\n\n  if (!answers.every(a => a >= 1 && a <= 3)) {\n    throw new Error('Answer values must be 1, 2, or 3');\n  }\n\n  // \u524D\u306E\u72B6\u614B\uFF08Q1-Q5\uFF09\u3068\u5F8C\u306E\u72B6\u614B\uFF08Q6-Q10\uFF09\u3092\u8A08\u7B97\n  const beforeAnswers = answers.slice(0, 5);\n  const afterAnswers = answers.slice(5, 10);\n\n  const beforeTrigram = calculateTrigram(beforeAnswers);\n  const afterTrigram = calculateTrigram(afterAnswers);\n\n  // \u5366\uFF08hexagram\uFF09\u3092\u751F\u6210\n  const hexagram = TRIGRAM_SYMBOLS[beforeTrigram] + TRIGRAM_SYMBOLS[afterTrigram];\n\n  // \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\u3092\u6C7A\u5B9A\n  const patternType = determinePatternType(beforeTrigram, afterTrigram);\n\n  // \u5206\u6790\u30C6\u30AD\u30B9\u30C8\u3092\u751F\u6210\n  const summary = generateSummary(beforeTrigram, afterTrigram, patternType);\n  const fullAnalysis = generateFullAnalysis(beforeTrigram, afterTrigram, patternType);\n  const recommendedActions = generateRecommendations(beforeTrigram, afterTrigram, patternType);\n\n  return {\n    hexagram,\n    beforeTrigram,\n    afterTrigram,\n    summary,\n    fullAnalysis,\n    recommendedActions,\n    patternType\n  };\n}\n\n/**\n * 5\u3064\u306E\u56DE\u7B54\u304B\u3089\u516B\u5366\u3092\u8A08\u7B97\n */\nfunction calculateTrigram(answers: number[]): Trigram {\n  // \u56DE\u7B54\u306E\u5408\u8A08\u5024\u3067\u30A4\u30F3\u30C7\u30C3\u30AF\u30B9\u3092\u6C7A\u5B9A\uFF085-15 \u2192 0-7\uFF09\n  const sum = answers.reduce((a, b) => a + b, 0);\n  const index = Math.floor((sum - 5) / 1.375); // 5-15\u30920-7\u306B\u6B63\u898F\u5316\n  const clampedIndex = Math.max(0, Math.min(7, index));\n  return TRIGRAMS[clampedIndex];\n}\n\n/**\n * \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\u3092\u6C7A\u5B9A\n */\nfunction determinePatternType(before: Trigram, after: Trigram): PatternType {\n  const beforeIdx = TRIGRAMS.indexOf(before);\n  const afterIdx = TRIGRAMS.indexOf(after);\n  const diff = afterIdx - beforeIdx;\n\n  // \u5909\u5316\u306E\u65B9\u5411\u3068\u5927\u304D\u3055\u3067\u30D1\u30BF\u30FC\u30F3\u3092\u5206\u985E\n  if (diff === 0) return 'Stability_Maintenance';\n  if (diff > 0 && diff <= 2) return 'Expansion_Growth';\n  if (diff < 0 && diff >= -2) return 'Contraction_Decline';\n  if (Math.abs(diff) >= 5) return 'Transformation_Shift';\n  if (before === '\u574E' || after === '\u574E') return 'Crisis_Recovery';\n  return 'Emergence_Innovation';\n}\n\n/**\n * \u30B5\u30DE\u30EA\u30FC\u3092\u751F\u6210\n */\nfunction generateSummary(before: Trigram, after: Trigram, pattern: PatternType): string {\n  const summaries: Record<PatternType, string> = {\n    'Expansion_Growth': `${before}\u304B\u3089${after}\u3078\u306E\u5909\u5316\u306F\u3001\u6210\u9577\u3068\u62E1\u5927\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`,\n    'Contraction_Decline': `${before}\u304B\u3089${after}\u3078\u306E\u5909\u5316\u306F\u3001\u53CE\u7E2E\u3068\u6574\u7406\u306E\u6642\u671F\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`,\n    'Transformation_Shift': `${before}\u304B\u3089${after}\u3078\u306E\u5927\u304D\u306A\u5909\u5316\u306F\u3001\u6839\u672C\u7684\u306A\u8EE2\u63DB\u671F\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`,\n    'Stability_Maintenance': `${before}\u306E\u72B6\u614B\u304C\u7DAD\u6301\u3055\u308C\u3001\u5B89\u5B9A\u671F\u306B\u3042\u308B\u3053\u3068\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`,\n    'Crisis_Recovery': `${before}\u304B\u3089${after}\u3078\u306E\u5909\u5316\u306F\u3001\u56F0\u96E3\u3092\u4E57\u308A\u8D8A\u3048\u308B\u529B\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`,\n    'Emergence_Innovation': `${before}\u304B\u3089${after}\u3078\u306E\u5909\u5316\u306F\u3001\u65B0\u3057\u3044\u53EF\u80FD\u6027\u306E\u51FA\u73FE\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`\n  };\n  return summaries[pattern];\n}\n\n/**\n * \u8A73\u7D30\u5206\u6790\u3092\u751F\u6210\n */\nfunction generateFullAnalysis(before: Trigram, after: Trigram, pattern: PatternType): string {\n  const trigramMeanings: Record<Trigram, string> = {\n    '\u4E7E': '\u5929\u306E\u529B\u3001\u5275\u9020\u6027\u3001\u30EA\u30FC\u30C0\u30FC\u30B7\u30C3\u30D7',\n    '\u514C': '\u559C\u3073\u3001\u30B3\u30DF\u30E5\u30CB\u30B1\u30FC\u30B7\u30E7\u30F3\u3001\u4EA4\u6D41',\n    '\u96E2': '\u660E\u6670\u3055\u3001\u77E5\u6075\u3001\u6D1E\u5BDF',\n    '\u9707': '\u52D5\u304D\u3001\u59CB\u307E\u308A\u3001\u885D\u6483',\n    '\u5DFD': '\u67D4\u8EDF\u6027\u3001\u9069\u5FDC\u3001\u6D78\u900F',\n    '\u574E': '\u56F0\u96E3\u3001\u6DF1\u307F\u3001\u5B66\u3073',\n    '\u826E': '\u9759\u6B62\u3001\u5185\u7701\u3001\u84C4\u7A4D',\n    '\u5764': '\u53D7\u5BB9\u3001\u80B2\u6210\u3001\u57FA\u76E4'\n  };\n\n  return `\n\u3010\u73FE\u5728\u306E\u72B6\u614B: ${before}\u3011\n${trigramMeanings[before]}\n\n\u3010\u5909\u5316\u5F8C\u306E\u72B6\u614B: ${after}\u3011\n${trigramMeanings[after]}\n\n\u3010\u5909\u5316\u306E\u30D1\u30BF\u30FC\u30F3: ${pattern.replace('_', ' ')}\u3011\n\u3053\u306E\u5909\u5316\u306F\u3001${generateSummary(before, after, pattern)}\n\n\u3010\u8A73\u7D30\u5206\u6790\u3011\n${before}\u306E\u6301\u3064\u30A8\u30CD\u30EB\u30AE\u30FC\u304B\u3089${after}\u306E\u30A8\u30CD\u30EB\u30AE\u30FC\u3078\u306E\u79FB\u884C\u306F\u3001\n\u7D44\u7E54\u3084\u500B\u4EBA\u306E\u767A\u5C55\u6BB5\u968E\u306B\u304A\u3044\u3066\u91CD\u8981\u306A\u8EE2\u63DB\u70B9\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002\n  `.trim();\n}\n\n/**\n * \u63A8\u5968\u30A2\u30AF\u30B7\u30E7\u30F3\u3092\u751F\u6210\n */\nfunction generateRecommendations(before: Trigram, after: Trigram, pattern: PatternType): string[] {\n  const baseActions: Record<PatternType, string[]> = {\n    'Expansion_Growth': [\n      '\u6210\u9577\u306E\u6A5F\u4F1A\u3092\u7A4D\u6975\u7684\u306B\u8FFD\u6C42\u3059\u308B',\n      '\u30EA\u30BD\u30FC\u30B9\u306E\u62E1\u5145\u3092\u691C\u8A0E\u3059\u308B',\n      '\u65B0\u3057\u3044\u30D1\u30FC\u30C8\u30CA\u30FC\u30B7\u30C3\u30D7\u3092\u6A21\u7D22\u3059\u308B'\n    ],\n    'Contraction_Decline': [\n      '\u30B3\u30A2\u4E8B\u696D\u306B\u96C6\u4E2D\u3059\u308B',\n      '\u7121\u99C4\u3092\u898B\u76F4\u3057\u52B9\u7387\u5316\u3092\u56F3\u308B',\n      '\u6B21\u306E\u6210\u9577\u671F\u306B\u5099\u3048\u3066\u57FA\u76E4\u3092\u56FA\u3081\u308B'\n    ],\n    'Transformation_Shift': [\n      '\u65E2\u5B58\u306E\u67A0\u7D44\u307F\u3092\u898B\u76F4\u3059',\n      '\u629C\u672C\u7684\u306A\u6539\u9769\u3092\u691C\u8A0E\u3059\u308B',\n      '\u5909\u5316\u3092\u6050\u308C\u305A\u65B0\u3057\u3044\u65B9\u5411\u6027\u3092\u63A2\u308B'\n    ],\n    'Stability_Maintenance': [\n      '\u73FE\u72B6\u306E\u5F37\u307F\u3092\u7DAD\u6301\u30FB\u5F37\u5316\u3059\u308B',\n      '\u54C1\u8CEA\u306E\u5411\u4E0A\u306B\u6CE8\u529B\u3059\u308B',\n      '\u5C06\u6765\u306B\u5411\u3051\u305F\u6E96\u5099\u3092\u9032\u3081\u308B'\n    ],\n    'Crisis_Recovery': [\n      '\u554F\u984C\u306E\u6839\u672C\u539F\u56E0\u3092\u5206\u6790\u3059\u308B',\n      '\u652F\u63F4\u3092\u6C42\u3081\u308B\u3053\u3068\u3092\u691C\u8A0E\u3059\u308B',\n      '\u56DE\u5FA9\u5F8C\u306E\u30D3\u30B8\u30E7\u30F3\u3092\u660E\u78BA\u306B\u3059\u308B'\n    ],\n    'Emergence_Innovation': [\n      '\u65B0\u3057\u3044\u30A2\u30A4\u30C7\u30A2\u3092\u8A66\u3059',\n      '\u5B9F\u9A13\u7684\u306A\u30A2\u30D7\u30ED\u30FC\u30C1\u3092\u53D6\u308A\u5165\u308C\u308B',\n      '\u67D4\u8EDF\u306A\u59FF\u52E2\u3067\u5909\u5316\u306B\u5BFE\u5FDC\u3059\u308B'\n    ]\n  };\n\n  return baseActions[pattern];\n}\n\n/**\n * \u30D7\u30EC\u30D3\u30E5\u30FC\u30EC\u30B9\u30DD\u30F3\u30B9\u3092\u4F5C\u6210\n */\nexport function createPreviewResponse(result: DiagnosisResult): PreviewResponse {\n  return {\n    hexagram: result.hexagram,\n    beforeTrigram: result.beforeTrigram,\n    afterTrigram: result.afterTrigram,\n    summary: result.summary,\n    isPreview: true\n  };\n}\n\n/**\n * \u30D5\u30EB\u30EC\u30B9\u30DD\u30F3\u30B9\u3092\u4F5C\u6210\n */\nexport function createFullResponse(result: DiagnosisResult): FullResponse {\n  return {\n    ...result,\n    isPreview: false\n  };\n}\n", "/**\n * \u4E8B\u4F8B\u691C\u7D22\u30E2\u30B8\u30E5\u30FC\u30EB\n *\n * D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u304B\u3089\u4E8B\u4F8B\u3092\u691C\u7D22\n */\n\n// \u516B\u5366\u578B\ntype Trigram = '\u4E7E' | '\u5764' | '\u9707' | '\u5DFD' | '\u574E' | '\u96E2' | '\u826E' | '\u514C';\n\n// \u30B9\u30B1\u30FC\u30EB\u578B\ntype Scale = 'individual' | 'family' | 'company' | 'nation' | 'global';\n\n// \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\u578B\ntype PatternType =\n  | 'Expansion_Growth'\n  | 'Contraction_Decline'\n  | 'Transformation_Shift'\n  | 'Stability_Maintenance'\n  | 'Crisis_Recovery'\n  | 'Shock_Recovery'\n  | 'Emergence_Innovation';\n\n// \u4E8B\u4F8B\u578B\nexport interface Case {\n  id: string;\n  entity_name: string;\n  before_trigram: Trigram;\n  after_trigram: Trigram;\n  pattern_type: PatternType;\n  scale: Scale;\n  main_domain: string;\n  year: number;\n  summary: string;\n  source_url?: string;\n}\n\n// \u691C\u7D22\u30D1\u30E9\u30E1\u30FC\u30BF\u578B\nexport interface CaseSearchParams {\n  pattern_type?: PatternType;\n  before_trigram?: Trigram;\n  after_trigram?: Trigram;\n  scale?: Scale;\n  main_domain?: string;\n  year_from?: number;\n  year_to?: number;\n  limit?: number;\n  offset?: number;\n}\n\n// \u691C\u7D22\u7D50\u679C\u578B\nexport interface CaseSearchResult {\n  cases: Case[];\n  total: number;\n  limit: number;\n  offset: number;\n}\n\n// \u30C7\u30D5\u30A9\u30EB\u30C8\u5024\nconst DEFAULT_LIMIT = 20;\nconst MAX_LIMIT = 20;\n\n/**\n * \u4E8B\u4F8B\u3092\u691C\u7D22\n *\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @param params - \u691C\u7D22\u30D1\u30E9\u30E1\u30FC\u30BF\n * @returns \u691C\u7D22\u7D50\u679C\n */\nexport async function searchCases(\n  db: D1Database,\n  params: CaseSearchParams\n): Promise<CaseSearchResult> {\n  const conditions: string[] = [];\n  const bindings: unknown[] = [];\n\n  // \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\n  if (params.pattern_type) {\n    conditions.push('pattern_type = ?');\n    bindings.push(params.pattern_type);\n  }\n\n  // \u516B\u5366\uFF08before\uFF09\n  if (params.before_trigram) {\n    conditions.push('before_trigram = ?');\n    bindings.push(params.before_trigram);\n  }\n\n  // \u516B\u5366\uFF08after\uFF09\n  if (params.after_trigram) {\n    conditions.push('after_trigram = ?');\n    bindings.push(params.after_trigram);\n  }\n\n  // \u30B9\u30B1\u30FC\u30EB\n  if (params.scale) {\n    conditions.push('scale = ?');\n    bindings.push(params.scale);\n  }\n\n  // \u30E1\u30A4\u30F3\u30C9\u30E1\u30A4\u30F3\n  if (params.main_domain) {\n    conditions.push('main_domain = ?');\n    bindings.push(params.main_domain);\n  }\n\n  // \u5E74\uFF08from\uFF09\n  if (params.year_from) {\n    conditions.push('year >= ?');\n    bindings.push(params.year_from);\n  }\n\n  // \u5E74\uFF08to\uFF09\n  if (params.year_to) {\n    conditions.push('year <= ?');\n    bindings.push(params.year_to);\n  }\n\n  // SQL\u30AF\u30A8\u30EA\u69CB\u7BC9\n  const whereClause = conditions.length > 0\n    ? `WHERE ${conditions.join(' AND ')}`\n    : '';\n\n  const limit = Math.min(params.limit || DEFAULT_LIMIT, MAX_LIMIT);\n  const offset = params.offset || 0;\n\n  const sql = `\n    SELECT\n      id,\n      entity_name,\n      before_trigram,\n      after_trigram,\n      pattern_type,\n      scale,\n      main_domain,\n      year,\n      summary,\n      source_url\n    FROM cases\n    ${whereClause}\n    ORDER BY year DESC, id\n    LIMIT ?\n    OFFSET ?\n  `;\n\n  bindings.push(limit, offset);\n\n  const result = await db.prepare(sql).bind(...bindings).all<Case>();\n\n  return {\n    cases: result.results || [],\n    total: result.results?.length || 0,\n    limit,\n    offset\n  };\n}\n\n/**\n * \u985E\u4F3C\u4E8B\u4F8B\u3092\u691C\u7D22\n *\n * \u540C\u3058\u516B\u5366\u306E\u7D44\u307F\u5408\u308F\u305B\u3092\u6301\u3064\u4E8B\u4F8B\u3092\u691C\u7D22\n *\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @param beforeTrigram - \u524D\u306E\u516B\u5366\n * @param afterTrigram - \u5F8C\u306E\u516B\u5366\n * @param limit - \u6700\u5927\u4EF6\u6570\n * @returns \u985E\u4F3C\u4E8B\u4F8B\u30EA\u30B9\u30C8\n */\nexport async function findSimilarCases(\n  db: D1Database,\n  beforeTrigram: Trigram,\n  afterTrigram: Trigram,\n  limit: number = 5\n): Promise<Case[]> {\n  const result = await searchCases(db, {\n    before_trigram: beforeTrigram,\n    after_trigram: afterTrigram,\n    limit: Math.min(limit, MAX_LIMIT)\n  });\n\n  return result.cases;\n}\n\n/**\n * \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\u5225\u306E\u7D71\u8A08\u3092\u53D6\u5F97\n *\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @returns \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\u3054\u3068\u306E\u4EF6\u6570\n */\nexport async function getPatternTypeStats(\n  db: D1Database\n): Promise<Record<string, number>> {\n  const sql = `\n    SELECT pattern_type, COUNT(*) as count\n    FROM cases\n    GROUP BY pattern_type\n    ORDER BY count DESC\n  `;\n\n  const result = await db.prepare(sql).all<{ pattern_type: string; count: number }>();\n\n  const stats: Record<string, number> = {};\n  for (const row of result.results || []) {\n    stats[row.pattern_type] = row.count;\n  }\n\n  return stats;\n}\n", "/**\n * HaQei API - Cloudflare Workers \u30A8\u30F3\u30C8\u30EA\u30FC\u30DD\u30A4\u30F3\u30C8\n *\n * \u6613\u7D4C\u8A3A\u65ADAPI\u306E\u30E1\u30A4\u30F3\u30A8\u30F3\u30C8\u30EA\u30FC\u30DD\u30A4\u30F3\u30C8\n */\n\nimport { validateLicense, extractLicenseKey } from './license';\nimport { handleWebhookRequest } from './webhook';\nimport { checkRateLimit, rateLimitResponse, DEFAULT_RATE_LIMIT } from './ratelimit';\nimport { computeDiagnosis, createPreviewResponse, createFullResponse, type DiagnosisInput } from './diagnose';\nimport { searchCases, findSimilarCases, type CaseSearchParams } from './cases';\n\nexport interface Env {\n  DB: D1Database;\n  ALLOWED_ORIGINS: string;\n  LEMON_SQUEEZY_WEBHOOK_SECRET?: string;\n}\n\nexport default {\n  async fetch(request: Request, env: Env, ctx: ExecutionContext): Promise<Response> {\n    const url = new URL(request.url);\n    const path = url.pathname;\n\n    // CORS \u30D8\u30C3\u30C0\u30FC\n    const corsHeaders = getCorsHeaders(request, env.ALLOWED_ORIGINS);\n\n    // Preflight\n    if (request.method === 'OPTIONS') {\n      return new Response(null, { headers: corsHeaders });\n    }\n\n    try {\n      // \u30EB\u30FC\u30C6\u30A3\u30F3\u30B0\n      // Health check\n      if (path === '/health') {\n        return json({ status: 'ok', timestamp: new Date().toISOString() }, corsHeaders);\n      }\n\n      // Webhook (Lemon Squeezy)\n      if (path === '/webhook' && request.method === 'POST') {\n        const secret = env.LEMON_SQUEEZY_WEBHOOK_SECRET || '';\n        return handleWebhookRequest(request, env.DB, secret);\n      }\n\n      // \u30EC\u30FC\u30C8\u5236\u9650\u30C1\u30A7\u30C3\u30AF\uFF08API\u5168\u4F53\uFF09\n      const clientIP = request.headers.get('CF-Connecting-IP') || 'unknown';\n      const rateLimit = await checkRateLimit(env.DB, clientIP, DEFAULT_RATE_LIMIT);\n      if (!rateLimit.allowed) {\n        return rateLimitResponse(rateLimit);\n      }\n\n      // \u8A3A\u65ADAPI\uFF08\u30D7\u30EC\u30D3\u30E5\u30FC - \u8A8D\u8A3C\u4E0D\u8981\uFF09\n      if (path === '/diagnose/preview' && request.method === 'POST') {\n        const body = await request.json() as DiagnosisInput;\n        const result = computeDiagnosis(body);\n        const preview = createPreviewResponse(result);\n        return json(preview, corsHeaders);\n      }\n\n      // \u8A3A\u65ADAPI\uFF08\u30D5\u30EB - \u8A8D\u8A3C\u5FC5\u8981\uFF09\n      if (path === '/diagnose/full' && request.method === 'POST') {\n        const authHeader = request.headers.get('Authorization');\n        const licenseKey = extractLicenseKey(authHeader);\n\n        if (!licenseKey) {\n          return json({ error: 'Unauthorized: License key required' }, corsHeaders, 401);\n        }\n\n        const validation = await validateLicense(licenseKey, env.DB);\n        if (!validation.valid) {\n          return json({ error: 'Unauthorized: Invalid license key' }, corsHeaders, 401);\n        }\n\n        const body = await request.json() as DiagnosisInput;\n        const result = computeDiagnosis(body);\n\n        // \u985E\u4F3C\u4E8B\u4F8B\u3092\u53D6\u5F97\n        const similarCases = await findSimilarCases(\n          env.DB,\n          result.beforeTrigram as '\u4E7E' | '\u5764' | '\u9707' | '\u5DFD' | '\u574E' | '\u96E2' | '\u826E' | '\u514C',\n          result.afterTrigram as '\u4E7E' | '\u5764' | '\u9707' | '\u5DFD' | '\u574E' | '\u96E2' | '\u826E' | '\u514C',\n          5\n        );\n\n        const fullResponse = createFullResponse(result);\n        return json({ ...fullResponse, similarCases }, corsHeaders);\n      }\n\n      // \u4E8B\u4F8B\u691C\u7D22API\uFF08\u8A8D\u8A3C\u5FC5\u8981\uFF09\n      if (path === '/cases/search' && request.method === 'GET') {\n        const authHeader = request.headers.get('Authorization');\n        const licenseKey = extractLicenseKey(authHeader);\n\n        if (!licenseKey) {\n          return json({ error: 'Unauthorized: License key required' }, corsHeaders, 401);\n        }\n\n        const validation = await validateLicense(licenseKey, env.DB);\n        if (!validation.valid) {\n          return json({ error: 'Unauthorized: Invalid license key' }, corsHeaders, 401);\n        }\n\n        // \u30AF\u30A8\u30EA\u30D1\u30E9\u30E1\u30FC\u30BF\u304B\u3089\u691C\u7D22\u6761\u4EF6\u3092\u53D6\u5F97\n        const params: CaseSearchParams = {};\n        const patternType = url.searchParams.get('pattern_type');\n        const beforeHex = url.searchParams.get('before_hex');\n        const afterHex = url.searchParams.get('after_hex');\n        const scale = url.searchParams.get('scale');\n\n        if (patternType) params.pattern_type = patternType as CaseSearchParams['pattern_type'];\n        if (beforeHex) params.before_trigram = beforeHex as CaseSearchParams['before_trigram'];\n        if (afterHex) params.after_trigram = afterHex as CaseSearchParams['after_trigram'];\n        if (scale) params.scale = scale as CaseSearchParams['scale'];\n\n        const result = await searchCases(env.DB, params);\n        return json(result, corsHeaders);\n      }\n\n      // 404\n      return json({ error: 'Not Found' }, corsHeaders, 404);\n\n    } catch (error) {\n      console.error('API Error:', error);\n      const message = error instanceof Error ? error.message : 'Internal Server Error';\n      return json(\n        { error: message },\n        corsHeaders,\n        error instanceof Error && error.message.includes('required') ? 400 : 500\n      );\n    }\n  },\n};\n\n// JSON \u30EC\u30B9\u30DD\u30F3\u30B9\u30D8\u30EB\u30D1\u30FC\nfunction json(data: unknown, headers: Headers, status = 200): Response {\n  const responseHeaders = new Headers(headers);\n  responseHeaders.set('Content-Type', 'application/json');\n  return new Response(JSON.stringify(data), { status, headers: responseHeaders });\n}\n\n// CORS \u30D8\u30C3\u30C0\u30FC\u751F\u6210\nfunction getCorsHeaders(request: Request, allowedOrigins: string): Headers {\n  const origin = request.headers.get('Origin') || '';\n  const allowed = allowedOrigins.split(',').map(o => o.trim());\n  const headers = new Headers();\n\n  if (allowed.includes(origin) || allowed.includes('*')) {\n    headers.set('Access-Control-Allow-Origin', origin);\n  }\n\n  headers.set('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');\n  headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n  headers.set('Access-Control-Max-Age', '86400');\n\n  return headers;\n}\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/src/index.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/src/index.ts\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/.wrangler/tmp/bundle-Ikgts2/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/.wrangler/tmp/bundle-Ikgts2/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/.wrangler/tmp/bundle-Ikgts2/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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",
  "names": []
}
