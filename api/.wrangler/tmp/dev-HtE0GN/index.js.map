{
  "version": 3,
  "sources": ["../bundle-Stb25v/checked-fetch.js", "../../../src/utils.ts", "../../../src/license.ts", "../../../src/webhook.ts", "../../../src/ratelimit.ts", "../../../src/diagnose.ts", "../../../src/cases.ts", "../../../src/diagnose-v2.ts", "../../../src/index.ts", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-Stb25v/middleware-insertion-facade.js", "../../../node_modules/wrangler/templates/middleware/common.ts", "../bundle-Stb25v/middleware-loader.entry.ts"],
  "sourceRoot": "/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/.wrangler/tmp/dev-HtE0GN",
  "sourcesContent": ["const urls = new Set();\n\nfunction checkURL(request, init) {\n\tconst url =\n\t\trequest instanceof URL\n\t\t\t? request\n\t\t\t: new URL(\n\t\t\t\t\t(typeof request === \"string\"\n\t\t\t\t\t\t? new Request(request, init)\n\t\t\t\t\t\t: request\n\t\t\t\t\t).url\n\t\t\t\t);\n\tif (url.port && url.port !== \"443\" && url.protocol === \"https:\") {\n\t\tif (!urls.has(url.toString())) {\n\t\t\turls.add(url.toString());\n\t\t\tconsole.warn(\n\t\t\t\t`WARNING: known issue with \\`fetch()\\` requests to custom HTTPS ports in published Workers:\\n` +\n\t\t\t\t\t` - ${url.toString()} - the custom port will be ignored when the Worker is published using the \\`wrangler deploy\\` command.\\n`\n\t\t\t);\n\t\t}\n\t}\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\tconst [request, init] = argArray;\n\t\tcheckURL(request, init);\n\t\treturn Reflect.apply(target, thisArg, argArray);\n\t},\n});\n", "/**\n * \u30E6\u30FC\u30C6\u30A3\u30EA\u30C6\u30A3\u95A2\u6570\n */\n\n/**\n * SHA-256\u30CF\u30C3\u30B7\u30E5\u3092\u8A08\u7B97\n * @param input - \u30CF\u30C3\u30B7\u30E5\u5316\u3059\u308B\u6587\u5B57\u5217\n * @returns 64\u6587\u5B57\u306E16\u9032\u6570\u6587\u5B57\u5217\n */\nexport async function sha256(input: string): Promise<string> {\n  const encoder = new TextEncoder();\n  const data = encoder.encode(input);\n  const hashBuffer = await crypto.subtle.digest('SHA-256', data);\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n  return hashHex;\n}\n", "/**\n * \u30E9\u30A4\u30BB\u30F3\u30B9\u691C\u8A3C\u30E2\u30B8\u30E5\u30FC\u30EB\n *\n * Lemon Squeezy License API \u3068\u306E\u9023\u643A\n * D1\u30AD\u30E3\u30C3\u30B7\u30E5\u306B\u3088\u308B\u691C\u8A3C\u7D50\u679C\u306E\u4FDD\u6301\n */\n\nimport { sha256 } from './utils';\n\n// \u30E9\u30A4\u30BB\u30F3\u30B9\u691C\u8A3C\u7D50\u679C\u306E\u578B\nexport interface LicenseValidation {\n  valid: boolean;\n  status: 'active' | 'inactive' | 'expired';\n  plan?: string;\n  expiresAt?: string | null;\n}\n\n// Lemon Squeezy API\u30EC\u30B9\u30DD\u30F3\u30B9\u306E\u578B\nexport interface LemonSqueezyResponse {\n  valid: boolean;\n  license_key?: {\n    status: string;\n    expires_at?: string | null;\n  };\n  meta?: {\n    variant_name?: string;\n  };\n  error?: string;\n}\n\n// Lemon Squeezy API \u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\u306E\u578B\uFF08DI\u7528\uFF09\nexport type LemonSqueezyApiClient = (licenseKey: string) => Promise<LemonSqueezyResponse>;\n\n/**\n * \u30E9\u30A4\u30BB\u30F3\u30B9\u30AD\u30FC\u3092\u691C\u8A3C\n *\n * 1. D1\u30AD\u30E3\u30C3\u30B7\u30E5\u3092\u78BA\u8A8D\n * 2. \u30AD\u30E3\u30C3\u30B7\u30E5\u30DF\u30B9 or \u671F\u9650\u5207\u308C\u306E\u5834\u5408\u3001Lemon Squeezy API\u3092\u547C\u3073\u51FA\u3057\n * 3. \u7D50\u679C\u3092\u30AD\u30E3\u30C3\u30B7\u30E5\u306B\u4FDD\u5B58\n *\n * @param licenseKey - \u691C\u8A3C\u3059\u308B\u30E9\u30A4\u30BB\u30F3\u30B9\u30AD\u30FC\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @param lsApiClient - Lemon Squeezy API\u30AF\u30E9\u30A4\u30A2\u30F3\u30C8\uFF08\u30C6\u30B9\u30C8\u7528\u306BDI\u53EF\u80FD\uFF09\n */\nexport async function validateLicense(\n  licenseKey: string,\n  db: D1Database,\n  lsApiClient?: LemonSqueezyApiClient\n): Promise<LicenseValidation> {\n  const keyHash = await sha256(licenseKey);\n\n  // 1. \u30AD\u30E3\u30C3\u30B7\u30E5\u78BA\u8A8D\n  const cached = await db.prepare(`\n    SELECT * FROM license_cache\n    WHERE key_hash = ?\n    AND status = 'active'\n    AND datetime(last_verified_at, '+' || cache_ttl_seconds || ' seconds') > datetime('now')\n  `).bind(keyHash).first<{\n    status: string;\n    plan: string;\n    expires_at: string | null;\n  }>();\n\n  if (cached) {\n    return {\n      valid: true,\n      status: cached.status as 'active',\n      plan: cached.plan,\n      expiresAt: cached.expires_at\n    };\n  }\n\n  // 2. Lemon Squeezy API\u691C\u8A3C\n  const apiClient = lsApiClient || callLemonSqueezyValidate;\n  const lsResult = await apiClient(licenseKey);\n\n  // 3. \u30AD\u30E3\u30C3\u30B7\u30E5\u66F4\u65B0\n  const status = lsResult.valid ? 'active' : 'inactive';\n  const plan = lsResult.meta?.variant_name || 'basic';\n  const expiresAt = lsResult.license_key?.expires_at || null;\n\n  await db.prepare(`\n    INSERT OR REPLACE INTO license_cache\n    (key_hash, status, plan, expires_at, last_verified_at, updated_at)\n    VALUES (?, ?, ?, ?, datetime('now'), datetime('now'))\n  `).bind(keyHash, status, plan, expiresAt).run();\n\n  return {\n    valid: lsResult.valid,\n    status: status as 'active' | 'inactive',\n    plan,\n    expiresAt\n  };\n}\n\n/**\n * Lemon Squeezy License Validation API \u3092\u547C\u3073\u51FA\u3057\n * https://docs.lemonsqueezy.com/api/license-api\n */\nasync function callLemonSqueezyValidate(licenseKey: string): Promise<LemonSqueezyResponse> {\n  const response = await fetch('https://api.lemonsqueezy.com/v1/licenses/validate', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ license_key: licenseKey })\n  });\n\n  if (!response.ok) {\n    throw new Error(`Lemon Squeezy API error: ${response.status}`);\n  }\n\n  return response.json();\n}\n\n/**\n * \u8A8D\u8A3C\u30D8\u30C3\u30C0\u30FC\u304B\u3089\u30E9\u30A4\u30BB\u30F3\u30B9\u30AD\u30FC\u3092\u62BD\u51FA\n * @param authHeader - Authorization \u30D8\u30C3\u30C0\u30FC\u306E\u5024 (Bearer <key>)\n */\nexport function extractLicenseKey(authHeader: string | null): string | null {\n  if (!authHeader) return null;\n  const match = authHeader.match(/^Bearer\\s+(.+)$/i);\n  return match ? match[1] : null;\n}\n", "/**\n * Webhook\u51E6\u7406\u30E2\u30B8\u30E5\u30FC\u30EB\n *\n * Lemon Squeezy Webhook\u306E\u53D7\u4FE1\u3068\u51E6\u7406\n * - \u7F72\u540D\u691C\u8A3C\n * - \u30A4\u30D9\u30F3\u30C8\u5225\u30CF\u30F3\u30C9\u30EA\u30F3\u30B0\n */\n\nimport { sha256 } from './utils';\n\n// Webhook\u30DA\u30A4\u30ED\u30FC\u30C9\u306E\u578B\u5B9A\u7FA9\nexport interface WebhookPayload {\n  meta: {\n    event_name: string;\n  };\n  data: {\n    attributes: {\n      license_key: string;\n      status?: string;\n      expires_at?: string | null;\n    };\n  };\n}\n\n// \u5931\u52B9\u30A4\u30D9\u30F3\u30C8\u4E00\u89A7\nconst REVOCATION_EVENTS = [\n  'order_refunded',\n  'subscription_cancelled',\n  'subscription_expired',\n  'license_key_revoked'\n];\n\n// \u6709\u52B9\u5316\u30A4\u30D9\u30F3\u30C8\u4E00\u89A7\nconst ACTIVATION_EVENTS = [\n  'license_key_created',\n  'order_created',\n  'subscription_created'\n];\n\n/**\n * Webhook\u30A4\u30D9\u30F3\u30C8\u3092\u51E6\u7406\n *\n * @param payload - Webhook\u30DA\u30A4\u30ED\u30FC\u30C9\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n */\nexport async function handleWebhook(\n  payload: WebhookPayload,\n  db: D1Database\n): Promise<void> {\n  const eventName = payload.meta.event_name;\n  const licenseKey = payload.data.attributes.license_key;\n\n  if (!licenseKey) {\n    console.warn('Webhook payload missing license_key');\n    return;\n  }\n\n  const keyHash = await sha256(licenseKey);\n\n  // \u5931\u52B9\u30A4\u30D9\u30F3\u30C8\n  if (REVOCATION_EVENTS.includes(eventName)) {\n    await db.prepare(`\n      UPDATE license_cache\n      SET status = ?, updated_at = datetime('now')\n      WHERE key_hash = ?\n    `).bind('inactive', keyHash).run();\n\n    console.log(`License revoked: ${eventName}`);\n    return;\n  }\n\n  // \u6709\u52B9\u5316\u30A4\u30D9\u30F3\u30C8\n  if (ACTIVATION_EVENTS.includes(eventName)) {\n    const status = payload.data.attributes.status || 'active';\n    const expiresAt = payload.data.attributes.expires_at || null;\n\n    await db.prepare(`\n      INSERT OR REPLACE INTO license_cache\n      (key_hash, status, plan, expires_at, last_verified_at, updated_at)\n      VALUES (?, ?, 'basic', ?, datetime('now'), datetime('now'))\n    `).bind(keyHash, status, expiresAt).run();\n\n    console.log(`License activated: ${eventName}`);\n    return;\n  }\n\n  // \u672A\u77E5\u306E\u30A4\u30D9\u30F3\u30C8\u306F\u7121\u8996\n  console.log(`Ignoring unknown event: ${eventName}`);\n}\n\n/**\n * Webhook\u7F72\u540D\u3092\u691C\u8A3C\uFF08HMAC-SHA256\uFF09\n *\n * @param payload - \u751F\u306E\u30EA\u30AF\u30A8\u30B9\u30C8\u30DC\u30C7\u30A3\n * @param signature - X-Signature\u30D8\u30C3\u30C0\u30FC\u306E\u5024\n * @param secret - Webhook\u30B7\u30FC\u30AF\u30EC\u30C3\u30C8\n * @returns \u7F72\u540D\u304C\u6709\u52B9\u306A\u3089true\n */\nexport async function verifyWebhookSignature(\n  payload: string,\n  signature: string,\n  secret: string\n): Promise<boolean> {\n  if (!signature || !secret) {\n    return false;\n  }\n\n  try {\n    const encoder = new TextEncoder();\n    const key = await crypto.subtle.importKey(\n      'raw',\n      encoder.encode(secret),\n      { name: 'HMAC', hash: 'SHA-256' },\n      false,\n      ['sign']\n    );\n\n    const signatureBuffer = await crypto.subtle.sign('HMAC', key, encoder.encode(payload));\n    const expectedSignature = Array.from(new Uint8Array(signatureBuffer))\n      .map(b => b.toString(16).padStart(2, '0'))\n      .join('');\n\n    // \u30BF\u30A4\u30DF\u30F3\u30B0\u653B\u6483\u3092\u9632\u3050\u305F\u3081\u306E\u5B9A\u6570\u6642\u9593\u6BD4\u8F03\n    if (signature.length !== expectedSignature.length) {\n      return false;\n    }\n\n    let result = 0;\n    for (let i = 0; i < signature.length; i++) {\n      result |= signature.charCodeAt(i) ^ expectedSignature.charCodeAt(i);\n    }\n\n    return result === 0;\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Webhook\u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u30CF\u30F3\u30C9\u30EA\u30F3\u30B0\u3059\u308BHTTP\u30A8\u30F3\u30C9\u30DD\u30A4\u30F3\u30C8\u7528\u95A2\u6570\n *\n * @param request - HTTP\u30EA\u30AF\u30A8\u30B9\u30C8\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @param webhookSecret - Webhook\u30B7\u30FC\u30AF\u30EC\u30C3\u30C8\n * @returns HTTP\u30EC\u30B9\u30DD\u30F3\u30B9\n */\nexport async function handleWebhookRequest(\n  request: Request,\n  db: D1Database,\n  webhookSecret: string\n): Promise<Response> {\n  // POST\u30E1\u30BD\u30C3\u30C9\u306E\u307F\u8A31\u53EF\n  if (request.method !== 'POST') {\n    return new Response('Method Not Allowed', { status: 405 });\n  }\n\n  const signature = request.headers.get('X-Signature') || '';\n  const body = await request.text();\n\n  // \u7F72\u540D\u691C\u8A3C\n  const isValid = await verifyWebhookSignature(body, signature, webhookSecret);\n  if (!isValid) {\n    return new Response('Unauthorized', { status: 401 });\n  }\n\n  try {\n    const payload = JSON.parse(body) as WebhookPayload;\n    await handleWebhook(payload, db);\n    return new Response('OK', { status: 200 });\n  } catch (error) {\n    console.error('Webhook processing error:', error);\n    return new Response('Internal Server Error', { status: 500 });\n  }\n}\n", "/**\n * \u30EC\u30FC\u30C8\u5236\u9650\u30E2\u30B8\u30E5\u30FC\u30EB\n *\n * \u30B9\u30E9\u30A4\u30C7\u30A3\u30F3\u30B0\u30A6\u30A3\u30F3\u30C9\u30A6\u65B9\u5F0F\u3067\u30EA\u30AF\u30A8\u30B9\u30C8\u6570\u3092\u5236\u9650\n * D1\u3092\u30D0\u30C3\u30AF\u30A8\u30F3\u30C9\u30B9\u30C8\u30EC\u30FC\u30B8\u3068\u3057\u3066\u4F7F\u7528\n */\n\n// \u30EC\u30FC\u30C8\u5236\u9650\u8A2D\u5B9A\nexport interface RateLimitConfig {\n  maxRequests: number;\n  windowSeconds: number;\n}\n\n// \u30EC\u30FC\u30C8\u5236\u9650\u7D50\u679C\nexport interface RateLimitResult {\n  allowed: boolean;\n  remaining: number;\n  retryAfter?: number;\n}\n\n// \u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u306E\u30EC\u30B3\u30FC\u30C9\u578B\ninterface RateLimitRecord {\n  identifier: string;\n  request_count: number;\n  window_start: string;\n}\n\n// \u30C7\u30D5\u30A9\u30EB\u30C8\u8A2D\u5B9A\nexport const DEFAULT_RATE_LIMIT: RateLimitConfig = {\n  maxRequests: 100,\n  windowSeconds: 60\n};\n\n/**\n * \u30EC\u30FC\u30C8\u5236\u9650\u3092\u30C1\u30A7\u30C3\u30AF\n *\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @param identifier - \u8B58\u5225\u5B50\uFF08IP or \u30E9\u30A4\u30BB\u30F3\u30B9\u30AD\u30FC\u30CF\u30C3\u30B7\u30E5\uFF09\n * @param config - \u30EC\u30FC\u30C8\u5236\u9650\u8A2D\u5B9A\n * @returns \u30EC\u30FC\u30C8\u5236\u9650\u7D50\u679C\n */\nexport async function checkRateLimit(\n  db: D1Database,\n  identifier: string,\n  config: RateLimitConfig = DEFAULT_RATE_LIMIT\n): Promise<RateLimitResult> {\n  const now = Date.now();\n\n  // \u73FE\u5728\u306E\u30EC\u30B3\u30FC\u30C9\u3092\u53D6\u5F97\n  const record = await db.prepare(`\n    SELECT identifier, request_count, window_start\n    FROM rate_limits\n    WHERE identifier = ?\n  `).bind(identifier).first<RateLimitRecord>();\n\n  // \u30EC\u30B3\u30FC\u30C9\u304C\u5B58\u5728\u3057\u306A\u3044\u5834\u5408 - \u65B0\u898F\u4F5C\u6210\n  if (!record) {\n    await db.prepare(`\n      INSERT INTO rate_limits (identifier, request_count, window_start)\n      VALUES (?, 1, datetime('now'))\n    `).bind(identifier).run();\n\n    return {\n      allowed: true,\n      remaining: config.maxRequests - 1\n    };\n  }\n\n  // \u30A6\u30A3\u30F3\u30C9\u30A6\u306E\u958B\u59CB\u6642\u523B\u3092\u89E3\u6790\n  const windowStart = new Date(record.window_start).getTime();\n  const windowEnd = windowStart + config.windowSeconds * 1000;\n\n  // \u30A6\u30A3\u30F3\u30C9\u30A6\u304C\u671F\u9650\u5207\u308C\u306E\u5834\u5408 - \u30EA\u30BB\u30C3\u30C8\n  if (now >= windowEnd) {\n    await db.prepare(`\n      UPDATE rate_limits\n      SET request_count = 1, window_start = datetime('now')\n      WHERE identifier = ?\n    `).bind(identifier).run();\n\n    return {\n      allowed: true,\n      remaining: config.maxRequests - 1\n    };\n  }\n\n  // \u5236\u9650\u8D85\u904E\u30C1\u30A7\u30C3\u30AF\n  if (record.request_count >= config.maxRequests) {\n    const retryAfter = Math.ceil((windowEnd - now) / 1000);\n    return {\n      allowed: false,\n      remaining: 0,\n      retryAfter\n    };\n  }\n\n  // \u30AB\u30A6\u30F3\u30C8\u5897\u52A0\n  await db.prepare(`\n    UPDATE rate_limits\n    SET request_count = request_count + 1\n    WHERE identifier = ?\n  `).bind(identifier).run();\n\n  return {\n    allowed: true,\n    remaining: config.maxRequests - record.request_count - 1\n  };\n}\n\n/**\n * \u30EC\u30FC\u30C8\u5236\u9650\u30D8\u30C3\u30C0\u30FC\u3092\u751F\u6210\n *\n * @param result - \u30EC\u30FC\u30C8\u5236\u9650\u7D50\u679C\n * @param config - \u30EC\u30FC\u30C8\u5236\u9650\u8A2D\u5B9A\n * @returns HTTP\u30D8\u30C3\u30C0\u30FC\u30AA\u30D6\u30B8\u30A7\u30AF\u30C8\n */\nexport function getRateLimitHeaders(\n  result: RateLimitResult,\n  config: RateLimitConfig = DEFAULT_RATE_LIMIT\n): Record<string, string> {\n  const headers: Record<string, string> = {\n    'X-RateLimit-Limit': config.maxRequests.toString(),\n    'X-RateLimit-Remaining': result.remaining.toString()\n  };\n\n  if (!result.allowed && result.retryAfter) {\n    headers['Retry-After'] = result.retryAfter.toString();\n  }\n\n  return headers;\n}\n\n/**\n * \u30EC\u30FC\u30C8\u5236\u9650\u30A8\u30E9\u30FC\u30EC\u30B9\u30DD\u30F3\u30B9\u3092\u751F\u6210\n *\n * @param result - \u30EC\u30FC\u30C8\u5236\u9650\u7D50\u679C\n * @param config - \u30EC\u30FC\u30C8\u5236\u9650\u8A2D\u5B9A\n * @returns HTTP\u30EC\u30B9\u30DD\u30F3\u30B9\n */\nexport function rateLimitResponse(\n  result: RateLimitResult,\n  config: RateLimitConfig = DEFAULT_RATE_LIMIT\n): Response {\n  const headers = getRateLimitHeaders(result, config);\n\n  return new Response(\n    JSON.stringify({\n      error: 'Too Many Requests',\n      retryAfter: result.retryAfter\n    }),\n    {\n      status: 429,\n      headers: {\n        'Content-Type': 'application/json',\n        ...headers\n      }\n    }\n  );\n}\n", "/**\n * \u8A3A\u65AD\u30A8\u30F3\u30B8\u30F3\u30E2\u30B8\u30E5\u30FC\u30EB\n *\n * \u6613\u7D4C\uFF08\u516B\u5366\uFF09\u306B\u57FA\u3065\u304F\u8A3A\u65AD\u30ED\u30B8\u30C3\u30AF\n * 10\u306E\u8CEA\u554F\u304B\u3089\u300C\u524D\u306E\u72B6\u614B\u300D\u300C\u5F8C\u306E\u72B6\u614B\u300D\u3092\u8A08\u7B97\n */\n\n// \u516B\u5366\u5B9A\u7FA9\nconst TRIGRAMS = ['\u4E7E', '\u514C', '\u96E2', '\u9707', '\u5DFD', '\u574E', '\u826E', '\u5764'] as const;\ntype Trigram = typeof TRIGRAMS[number];\n\n// \u516B\u5366\u30B7\u30F3\u30DC\u30EB\nconst TRIGRAM_SYMBOLS: Record<Trigram, string> = {\n  '\u4E7E': '\u2630', '\u514C': '\u2631', '\u96E2': '\u2632', '\u9707': '\u2633',\n  '\u5DFD': '\u2634', '\u574E': '\u2635', '\u826E': '\u2636', '\u5764': '\u2637'\n};\n\n// \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\nconst PATTERN_TYPES = [\n  'Expansion_Growth',\n  'Contraction_Decline',\n  'Transformation_Shift',\n  'Stability_Maintenance',\n  'Crisis_Recovery',\n  'Emergence_Innovation'\n] as const;\ntype PatternType = typeof PATTERN_TYPES[number];\n\n// \u5165\u529B\u578B\nexport interface DiagnosisInput {\n  answers: number[];\n}\n\n// \u8A3A\u65AD\u7D50\u679C\u578B\nexport interface DiagnosisResult {\n  hexagram: string;\n  beforeTrigram: Trigram;\n  afterTrigram: Trigram;\n  summary: string;\n  fullAnalysis: string;\n  recommendedActions: string[];\n  patternType: PatternType;\n}\n\n// \u30D7\u30EC\u30D3\u30E5\u30FC\u30EC\u30B9\u30DD\u30F3\u30B9\u578B\nexport interface PreviewResponse {\n  hexagram: string;\n  beforeTrigram: Trigram;\n  afterTrigram: Trigram;\n  summary: string;\n  isPreview: true;\n  fullAnalysis?: undefined;\n  recommendedActions?: undefined;\n}\n\n// \u30D5\u30EB\u30EC\u30B9\u30DD\u30F3\u30B9\u578B\nexport interface FullResponse extends Omit<DiagnosisResult, never> {\n  isPreview: false;\n}\n\n/**\n * \u8A3A\u65AD\u3092\u8A08\u7B97\n *\n * @param input - 10\u500B\u306E\u56DE\u7B54\uFF08\u54041-3\uFF09\n * @returns \u8A3A\u65AD\u7D50\u679C\n */\nexport function computeDiagnosis(input: DiagnosisInput): DiagnosisResult {\n  const { answers } = input;\n\n  // \u30D0\u30EA\u30C7\u30FC\u30B7\u30E7\u30F3\n  if (answers.length !== 10) {\n    throw new Error('10 answers required');\n  }\n\n  if (!answers.every(a => a >= 1 && a <= 3)) {\n    throw new Error('Answer values must be 1, 2, or 3');\n  }\n\n  // \u524D\u306E\u72B6\u614B\uFF08Q1-Q5\uFF09\u3068\u5F8C\u306E\u72B6\u614B\uFF08Q6-Q10\uFF09\u3092\u8A08\u7B97\n  const beforeAnswers = answers.slice(0, 5);\n  const afterAnswers = answers.slice(5, 10);\n\n  const beforeTrigram = calculateTrigram(beforeAnswers);\n  const afterTrigram = calculateTrigram(afterAnswers);\n\n  // \u5366\uFF08hexagram\uFF09\u3092\u751F\u6210\n  const hexagram = TRIGRAM_SYMBOLS[beforeTrigram] + TRIGRAM_SYMBOLS[afterTrigram];\n\n  // \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\u3092\u6C7A\u5B9A\n  const patternType = determinePatternType(beforeTrigram, afterTrigram);\n\n  // \u5206\u6790\u30C6\u30AD\u30B9\u30C8\u3092\u751F\u6210\n  const summary = generateSummary(beforeTrigram, afterTrigram, patternType);\n  const fullAnalysis = generateFullAnalysis(beforeTrigram, afterTrigram, patternType);\n  const recommendedActions = generateRecommendations(beforeTrigram, afterTrigram, patternType);\n\n  return {\n    hexagram,\n    beforeTrigram,\n    afterTrigram,\n    summary,\n    fullAnalysis,\n    recommendedActions,\n    patternType\n  };\n}\n\n/**\n * 5\u3064\u306E\u56DE\u7B54\u304B\u3089\u516B\u5366\u3092\u8A08\u7B97\n */\nfunction calculateTrigram(answers: number[]): Trigram {\n  // \u56DE\u7B54\u306E\u5408\u8A08\u5024\u3067\u30A4\u30F3\u30C7\u30C3\u30AF\u30B9\u3092\u6C7A\u5B9A\uFF085-15 \u2192 0-7\uFF09\n  const sum = answers.reduce((a, b) => a + b, 0);\n  const index = Math.floor((sum - 5) / 1.375); // 5-15\u30920-7\u306B\u6B63\u898F\u5316\n  const clampedIndex = Math.max(0, Math.min(7, index));\n  return TRIGRAMS[clampedIndex];\n}\n\n/**\n * \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\u3092\u6C7A\u5B9A\n */\nfunction determinePatternType(before: Trigram, after: Trigram): PatternType {\n  const beforeIdx = TRIGRAMS.indexOf(before);\n  const afterIdx = TRIGRAMS.indexOf(after);\n  const diff = afterIdx - beforeIdx;\n\n  // \u5909\u5316\u306E\u65B9\u5411\u3068\u5927\u304D\u3055\u3067\u30D1\u30BF\u30FC\u30F3\u3092\u5206\u985E\n  if (diff === 0) return 'Stability_Maintenance';\n  if (diff > 0 && diff <= 2) return 'Expansion_Growth';\n  if (diff < 0 && diff >= -2) return 'Contraction_Decline';\n  if (Math.abs(diff) >= 5) return 'Transformation_Shift';\n  if (before === '\u574E' || after === '\u574E') return 'Crisis_Recovery';\n  return 'Emergence_Innovation';\n}\n\n/**\n * \u30B5\u30DE\u30EA\u30FC\u3092\u751F\u6210\n */\nfunction generateSummary(before: Trigram, after: Trigram, pattern: PatternType): string {\n  const summaries: Record<PatternType, string> = {\n    'Expansion_Growth': `${before}\u304B\u3089${after}\u3078\u306E\u5909\u5316\u306F\u3001\u6210\u9577\u3068\u62E1\u5927\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`,\n    'Contraction_Decline': `${before}\u304B\u3089${after}\u3078\u306E\u5909\u5316\u306F\u3001\u53CE\u7E2E\u3068\u6574\u7406\u306E\u6642\u671F\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`,\n    'Transformation_Shift': `${before}\u304B\u3089${after}\u3078\u306E\u5927\u304D\u306A\u5909\u5316\u306F\u3001\u6839\u672C\u7684\u306A\u8EE2\u63DB\u671F\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`,\n    'Stability_Maintenance': `${before}\u306E\u72B6\u614B\u304C\u7DAD\u6301\u3055\u308C\u3001\u5B89\u5B9A\u671F\u306B\u3042\u308B\u3053\u3068\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`,\n    'Crisis_Recovery': `${before}\u304B\u3089${after}\u3078\u306E\u5909\u5316\u306F\u3001\u56F0\u96E3\u3092\u4E57\u308A\u8D8A\u3048\u308B\u529B\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`,\n    'Emergence_Innovation': `${before}\u304B\u3089${after}\u3078\u306E\u5909\u5316\u306F\u3001\u65B0\u3057\u3044\u53EF\u80FD\u6027\u306E\u51FA\u73FE\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002`\n  };\n  return summaries[pattern];\n}\n\n/**\n * \u8A73\u7D30\u5206\u6790\u3092\u751F\u6210\n */\nfunction generateFullAnalysis(before: Trigram, after: Trigram, pattern: PatternType): string {\n  const trigramMeanings: Record<Trigram, string> = {\n    '\u4E7E': '\u5929\u306E\u529B\u3001\u5275\u9020\u6027\u3001\u30EA\u30FC\u30C0\u30FC\u30B7\u30C3\u30D7',\n    '\u514C': '\u559C\u3073\u3001\u30B3\u30DF\u30E5\u30CB\u30B1\u30FC\u30B7\u30E7\u30F3\u3001\u4EA4\u6D41',\n    '\u96E2': '\u660E\u6670\u3055\u3001\u77E5\u6075\u3001\u6D1E\u5BDF',\n    '\u9707': '\u52D5\u304D\u3001\u59CB\u307E\u308A\u3001\u885D\u6483',\n    '\u5DFD': '\u67D4\u8EDF\u6027\u3001\u9069\u5FDC\u3001\u6D78\u900F',\n    '\u574E': '\u56F0\u96E3\u3001\u6DF1\u307F\u3001\u5B66\u3073',\n    '\u826E': '\u9759\u6B62\u3001\u5185\u7701\u3001\u84C4\u7A4D',\n    '\u5764': '\u53D7\u5BB9\u3001\u80B2\u6210\u3001\u57FA\u76E4'\n  };\n\n  return `\n\u3010\u73FE\u5728\u306E\u72B6\u614B: ${before}\u3011\n${trigramMeanings[before]}\n\n\u3010\u5909\u5316\u5F8C\u306E\u72B6\u614B: ${after}\u3011\n${trigramMeanings[after]}\n\n\u3010\u5909\u5316\u306E\u30D1\u30BF\u30FC\u30F3: ${pattern.replace('_', ' ')}\u3011\n\u3053\u306E\u5909\u5316\u306F\u3001${generateSummary(before, after, pattern)}\n\n\u3010\u8A73\u7D30\u5206\u6790\u3011\n${before}\u306E\u6301\u3064\u30A8\u30CD\u30EB\u30AE\u30FC\u304B\u3089${after}\u306E\u30A8\u30CD\u30EB\u30AE\u30FC\u3078\u306E\u79FB\u884C\u306F\u3001\n\u7D44\u7E54\u3084\u500B\u4EBA\u306E\u767A\u5C55\u6BB5\u968E\u306B\u304A\u3044\u3066\u91CD\u8981\u306A\u8EE2\u63DB\u70B9\u3092\u793A\u3057\u3066\u3044\u307E\u3059\u3002\n  `.trim();\n}\n\n/**\n * \u63A8\u5968\u30A2\u30AF\u30B7\u30E7\u30F3\u3092\u751F\u6210\n */\nfunction generateRecommendations(before: Trigram, after: Trigram, pattern: PatternType): string[] {\n  const baseActions: Record<PatternType, string[]> = {\n    'Expansion_Growth': [\n      '\u6210\u9577\u306E\u6A5F\u4F1A\u3092\u7A4D\u6975\u7684\u306B\u8FFD\u6C42\u3059\u308B',\n      '\u30EA\u30BD\u30FC\u30B9\u306E\u62E1\u5145\u3092\u691C\u8A0E\u3059\u308B',\n      '\u65B0\u3057\u3044\u30D1\u30FC\u30C8\u30CA\u30FC\u30B7\u30C3\u30D7\u3092\u6A21\u7D22\u3059\u308B'\n    ],\n    'Contraction_Decline': [\n      '\u30B3\u30A2\u4E8B\u696D\u306B\u96C6\u4E2D\u3059\u308B',\n      '\u7121\u99C4\u3092\u898B\u76F4\u3057\u52B9\u7387\u5316\u3092\u56F3\u308B',\n      '\u6B21\u306E\u6210\u9577\u671F\u306B\u5099\u3048\u3066\u57FA\u76E4\u3092\u56FA\u3081\u308B'\n    ],\n    'Transformation_Shift': [\n      '\u65E2\u5B58\u306E\u67A0\u7D44\u307F\u3092\u898B\u76F4\u3059',\n      '\u629C\u672C\u7684\u306A\u6539\u9769\u3092\u691C\u8A0E\u3059\u308B',\n      '\u5909\u5316\u3092\u6050\u308C\u305A\u65B0\u3057\u3044\u65B9\u5411\u6027\u3092\u63A2\u308B'\n    ],\n    'Stability_Maintenance': [\n      '\u73FE\u72B6\u306E\u5F37\u307F\u3092\u7DAD\u6301\u30FB\u5F37\u5316\u3059\u308B',\n      '\u54C1\u8CEA\u306E\u5411\u4E0A\u306B\u6CE8\u529B\u3059\u308B',\n      '\u5C06\u6765\u306B\u5411\u3051\u305F\u6E96\u5099\u3092\u9032\u3081\u308B'\n    ],\n    'Crisis_Recovery': [\n      '\u554F\u984C\u306E\u6839\u672C\u539F\u56E0\u3092\u5206\u6790\u3059\u308B',\n      '\u652F\u63F4\u3092\u6C42\u3081\u308B\u3053\u3068\u3092\u691C\u8A0E\u3059\u308B',\n      '\u56DE\u5FA9\u5F8C\u306E\u30D3\u30B8\u30E7\u30F3\u3092\u660E\u78BA\u306B\u3059\u308B'\n    ],\n    'Emergence_Innovation': [\n      '\u65B0\u3057\u3044\u30A2\u30A4\u30C7\u30A2\u3092\u8A66\u3059',\n      '\u5B9F\u9A13\u7684\u306A\u30A2\u30D7\u30ED\u30FC\u30C1\u3092\u53D6\u308A\u5165\u308C\u308B',\n      '\u67D4\u8EDF\u306A\u59FF\u52E2\u3067\u5909\u5316\u306B\u5BFE\u5FDC\u3059\u308B'\n    ]\n  };\n\n  return baseActions[pattern];\n}\n\n/**\n * \u30D7\u30EC\u30D3\u30E5\u30FC\u30EC\u30B9\u30DD\u30F3\u30B9\u3092\u4F5C\u6210\n */\nexport function createPreviewResponse(result: DiagnosisResult): PreviewResponse {\n  return {\n    hexagram: result.hexagram,\n    beforeTrigram: result.beforeTrigram,\n    afterTrigram: result.afterTrigram,\n    summary: result.summary,\n    isPreview: true\n  };\n}\n\n/**\n * \u30D5\u30EB\u30EC\u30B9\u30DD\u30F3\u30B9\u3092\u4F5C\u6210\n */\nexport function createFullResponse(result: DiagnosisResult): FullResponse {\n  return {\n    ...result,\n    isPreview: false\n  };\n}\n", "/**\n * \u4E8B\u4F8B\u691C\u7D22\u30E2\u30B8\u30E5\u30FC\u30EB\n *\n * D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\u304B\u3089\u4E8B\u4F8B\u3092\u691C\u7D22\n */\n\n// \u516B\u5366\u578B\ntype Trigram = '\u4E7E' | '\u5764' | '\u9707' | '\u5DFD' | '\u574E' | '\u96E2' | '\u826E' | '\u514C';\n\n// \u30B9\u30B1\u30FC\u30EB\u578B\ntype Scale = 'individual' | 'family' | 'company' | 'nation' | 'global';\n\n// \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\u578B\ntype PatternType =\n  | 'Expansion_Growth'\n  | 'Contraction_Decline'\n  | 'Transformation_Shift'\n  | 'Stability_Maintenance'\n  | 'Crisis_Recovery'\n  | 'Shock_Recovery'\n  | 'Emergence_Innovation';\n\n// \u4E8B\u4F8B\u578B\nexport interface Case {\n  id: string;\n  entity_name: string;\n  before_trigram: Trigram;\n  after_trigram: Trigram;\n  pattern_type: PatternType;\n  scale: Scale;\n  main_domain: string;\n  year: number;\n  summary: string;\n  source_url?: string;\n}\n\n// \u691C\u7D22\u30D1\u30E9\u30E1\u30FC\u30BF\u578B\nexport interface CaseSearchParams {\n  pattern_type?: PatternType;\n  before_trigram?: Trigram;\n  after_trigram?: Trigram;\n  scale?: Scale;\n  main_domain?: string;\n  year_from?: number;\n  year_to?: number;\n  limit?: number;\n  offset?: number;\n}\n\n// \u691C\u7D22\u7D50\u679C\u578B\nexport interface CaseSearchResult {\n  cases: Case[];\n  total: number;\n  limit: number;\n  offset: number;\n}\n\n// \u30C7\u30D5\u30A9\u30EB\u30C8\u5024\nconst DEFAULT_LIMIT = 20;\nconst MAX_LIMIT = 20;\n\n/**\n * \u4E8B\u4F8B\u3092\u691C\u7D22\n *\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @param params - \u691C\u7D22\u30D1\u30E9\u30E1\u30FC\u30BF\n * @returns \u691C\u7D22\u7D50\u679C\n */\nexport async function searchCases(\n  db: D1Database,\n  params: CaseSearchParams\n): Promise<CaseSearchResult> {\n  const conditions: string[] = [];\n  const bindings: unknown[] = [];\n\n  // \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\n  if (params.pattern_type) {\n    conditions.push('pattern_type = ?');\n    bindings.push(params.pattern_type);\n  }\n\n  // \u516B\u5366\uFF08before\uFF09\n  if (params.before_trigram) {\n    conditions.push('before_trigram = ?');\n    bindings.push(params.before_trigram);\n  }\n\n  // \u516B\u5366\uFF08after\uFF09\n  if (params.after_trigram) {\n    conditions.push('after_trigram = ?');\n    bindings.push(params.after_trigram);\n  }\n\n  // \u30B9\u30B1\u30FC\u30EB\n  if (params.scale) {\n    conditions.push('scale = ?');\n    bindings.push(params.scale);\n  }\n\n  // \u30E1\u30A4\u30F3\u30C9\u30E1\u30A4\u30F3\n  if (params.main_domain) {\n    conditions.push('main_domain = ?');\n    bindings.push(params.main_domain);\n  }\n\n  // \u5E74\uFF08from\uFF09\n  if (params.year_from) {\n    conditions.push('year >= ?');\n    bindings.push(params.year_from);\n  }\n\n  // \u5E74\uFF08to\uFF09\n  if (params.year_to) {\n    conditions.push('year <= ?');\n    bindings.push(params.year_to);\n  }\n\n  // SQL\u30AF\u30A8\u30EA\u69CB\u7BC9\n  const whereClause = conditions.length > 0\n    ? `WHERE ${conditions.join(' AND ')}`\n    : '';\n\n  const limit = Math.min(params.limit || DEFAULT_LIMIT, MAX_LIMIT);\n  const offset = params.offset || 0;\n\n  const sql = `\n    SELECT\n      id,\n      entity_name,\n      before_trigram,\n      after_trigram,\n      pattern_type,\n      scale,\n      main_domain,\n      year,\n      summary,\n      source_url\n    FROM cases\n    ${whereClause}\n    ORDER BY year DESC, id\n    LIMIT ?\n    OFFSET ?\n  `;\n\n  bindings.push(limit, offset);\n\n  const result = await db.prepare(sql).bind(...bindings).all<Case>();\n\n  return {\n    cases: result.results || [],\n    total: result.results?.length || 0,\n    limit,\n    offset\n  };\n}\n\n/**\n * \u985E\u4F3C\u4E8B\u4F8B\u3092\u691C\u7D22\n *\n * \u540C\u3058\u516B\u5366\u306E\u7D44\u307F\u5408\u308F\u305B\u3092\u6301\u3064\u4E8B\u4F8B\u3092\u691C\u7D22\n *\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @param beforeTrigram - \u524D\u306E\u516B\u5366\n * @param afterTrigram - \u5F8C\u306E\u516B\u5366\n * @param limit - \u6700\u5927\u4EF6\u6570\n * @returns \u985E\u4F3C\u4E8B\u4F8B\u30EA\u30B9\u30C8\n */\nexport async function findSimilarCases(\n  db: D1Database,\n  beforeTrigram: Trigram,\n  afterTrigram: Trigram,\n  limit: number = 5\n): Promise<Case[]> {\n  const result = await searchCases(db, {\n    before_trigram: beforeTrigram,\n    after_trigram: afterTrigram,\n    limit: Math.min(limit, MAX_LIMIT)\n  });\n\n  return result.cases;\n}\n\n/**\n * \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\u5225\u306E\u7D71\u8A08\u3092\u53D6\u5F97\n *\n * @param db - D1\u30C7\u30FC\u30BF\u30D9\u30FC\u30B9\n * @returns \u30D1\u30BF\u30FC\u30F3\u30BF\u30A4\u30D7\u3054\u3068\u306E\u4EF6\u6570\n */\nexport async function getPatternTypeStats(\n  db: D1Database\n): Promise<Record<string, number>> {\n  const sql = `\n    SELECT pattern_type, COUNT(*) as count\n    FROM cases\n    GROUP BY pattern_type\n    ORDER BY count DESC\n  `;\n\n  const result = await db.prepare(sql).all<{ pattern_type: string; count: number }>();\n\n  const stats: Record<string, number> = {};\n  for (const row of result.results || []) {\n    stats[row.pattern_type] = row.count;\n  }\n\n  return stats;\n}\n", "/**\n * \u8A3A\u65AD\u30A8\u30F3\u30B8\u30F3 v2\n *\n * LLM Debate\u7D50\u679C\u306B\u57FA\u3065\u304F\u65B0\u8A2D\u8A08:\n * - 10\u554F\u3067\u300C\u6B63\u78BA\u306A\u5206\u985E\u300D\u306F\u4E0D\u53EF\u80FD \u2192 Top-k\u5019\u88DC + \u30E6\u30FC\u30B6\u30FC\u9078\u629E\u65B9\u5F0F\n * - Phase 1: \u521D\u671F\u7D5E\u308A\u8FBC\u307F\uFF085\u554F\u56FA\u5B9A\uFF09\n * - Phase 2: \u9069\u5FDC\u578B\u8CEA\u554F\uFF08\u78BA\u4FE1\u5EA6<70%\u6642\uFF09\n * - Phase 3: \u30E6\u30FC\u30B6\u30FC\u9078\u629E \u2192 \u723B\u30EC\u30D9\u30EB\u6DF1\u6398\u308A\n * - Phase 4: \u4E8B\u4F8B\u691C\u7D22\n */\n\n// ============================================================\n// \u578B\u5B9A\u7FA9\n// ============================================================\n\nexport interface Phase1Question {\n  id: number;\n  axis: string;\n  question: string;\n  options: { value: number; label: string; description: string }[];\n}\n\nexport interface Phase1Answers {\n  changeNature: number;      // 0-3: \u62E1\u5927/\u53CE\u7E2E/\u7DAD\u6301/\u8EE2\u63DB\n  agency: number;            // 0-2: \u81EA\u3089\u52D5\u304F/\u53D7\u3051\u6B62\u3081\u308B/\u5F85\u3064\n  timeframe: number;         // 0-2: \u4ECA\u3059\u3050/\u6570\u30F6\u6708/1\u5E74\u4EE5\u4E0A\n  relationship: number;      // 0-2: \u500B\u4EBA/\u7D44\u7E54\u5185/\u5BFE\u5916\n  emotionalTone: number;     // 0-3: \u524D\u5411\u304D/\u614E\u91CD/\u4E0D\u5B89/\u697D\u89B3\n}\n\nexport interface HexagramCandidate {\n  hexagramNumber: number;\n  name: string;\n  confidence: number;        // 0-1\n  description: string;       // \u5366\u540D\u306F\u898B\u305B\u305A\u72B6\u6CC1\u8AAC\u660E\n  keywords: string[];\n}\n\nexport interface Phase1Result {\n  candidates: HexagramCandidate[];\n  needsAdditionalQuestions: boolean;\n  additionalQuestions?: Phase2Question[];\n  topConfidence: number;\n}\n\nexport interface Phase2Question {\n  id: string;\n  question: string;\n  targetHexagrams: number[]; // \u3053\u306E\u8CEA\u554F\u3067\u5F01\u5225\u3059\u308B\u5366\n  options: { value: number; label: string }[];\n}\n\nexport interface YaoOption {\n  yao: number;               // 1-6\n  description: string;\n  stage: string;             // \u6BB5\u968E\u306E\u540D\u524D\n}\n\nexport interface SelectionResult {\n  hexagramNumber: number;\n  hexagramName: string;\n  yaoOptions: YaoOption[];\n}\n\nexport interface PreviewResult {\n  hexagramNumber: number;\n  hexagramName: string;\n  yao: number;\n  summary: string;\n  caseCount: number;\n  distribution: Record<string, number>;\n  paidContentPreview: string[];\n}\n\n// ============================================================\n// \u5B9A\u6570: 64\u5366\u30DE\u30B9\u30BF\u30FC\u30C7\u30FC\u30BF\uFF08\u7C21\u6613\u7248\uFF09\n// ============================================================\n\ninterface HexagramData {\n  number: number;\n  name: string;\n  upper: string;\n  lower: string;\n  meaning: string;\n  situation: string;\n  keywords: string[];\n  // \u30B9\u30B3\u30A2\u30EA\u30F3\u30B0\u7528\u306E\u5C5E\u6027\n  changeType: 'expansion' | 'contraction' | 'stability' | 'transformation';\n  agencyType: 'active' | 'receptive' | 'waiting';\n  timeHorizon: 'immediate' | 'medium' | 'long';\n  relationScope: 'personal' | 'organizational' | 'external';\n  emotionalQuality: 'positive' | 'cautious' | 'anxious' | 'optimistic';\n}\n\nconst HEXAGRAM_DATA: Record<number, HexagramData> = {\n  1: { number: 1, name: '\u4E7E\u70BA\u5929', upper: '\u4E7E', lower: '\u4E7E', meaning: '\u5275\u9020\u30FB\u525B\u5065', situation: '\u3059\u3079\u3066\u304C\u6E80\u3061\u3066\u3044\u308B\u72B6\u614B\u3002\u529B\u304C\u3042\u308A\u3001\u7A4D\u6975\u7684\u306B\u52D5\u3051\u308B\u6642\u671F', keywords: ['\u5275\u9020', '\u30EA\u30FC\u30C0\u30FC\u30B7\u30C3\u30D7', '\u525B\u5065', '\u524D\u9032'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'organizational', emotionalQuality: 'positive' },\n  2: { number: 2, name: '\u5764\u70BA\u5730', upper: '\u5764', lower: '\u5764', meaning: '\u53D7\u5BB9\u30FB\u67D4\u9806', situation: '\u53D7\u3051\u5165\u308C\u3001\u80B2\u3066\u308B\u6642\u671F\u3002\u81EA\u3089\u4E3B\u5C0E\u3059\u308B\u3088\u308A\u3001\u6D41\u308C\u306B\u5F93\u3046', keywords: ['\u53D7\u5BB9', '\u67D4\u9806', '\u80B2\u6210', '\u5F93\u3046'], changeType: 'stability', agencyType: 'receptive', timeHorizon: 'long', relationScope: 'personal', emotionalQuality: 'cautious' },\n  3: { number: 3, name: '\u6C34\u96F7\u5C6F', upper: '\u574E', lower: '\u9707', meaning: '\u56F0\u96E3\u306E\u59CB\u307E\u308A', situation: '\u7269\u4E8B\u306E\u59CB\u307E\u308A\u3067\u56F0\u96E3\u304C\u591A\u3044\u3002\u7126\u3089\u305A\u57FA\u76E4\u3092\u56FA\u3081\u308B\u6642\u671F', keywords: ['\u56F0\u96E3', '\u59CB\u307E\u308A', '\u5FCD\u8010', '\u57FA\u76E4\u3065\u304F\u308A'], changeType: 'expansion', agencyType: 'waiting', timeHorizon: 'medium', relationScope: 'personal', emotionalQuality: 'anxious' },\n  4: { number: 4, name: '\u5C71\u6C34\u8499', upper: '\u826E', lower: '\u574E', meaning: '\u672A\u719F\u30FB\u5553\u8499', situation: '\u307E\u3060\u672A\u719F\u3067\u5B66\u3076\u3079\u304D\u6642\u671F\u3002\u6307\u5C0E\u8005\u3084\u5E2B\u3092\u6C42\u3081\u308B\u3079\u304D', keywords: ['\u672A\u719F', '\u5B66\u3073', '\u6559\u80B2', '\u6307\u5C0E'], changeType: 'expansion', agencyType: 'receptive', timeHorizon: 'long', relationScope: 'personal', emotionalQuality: 'cautious' },\n  5: { number: 5, name: '\u6C34\u5929\u9700', upper: '\u574E', lower: '\u4E7E', meaning: '\u5F85\u3064\u30FB\u990A\u3046', situation: '\u6642\u6A5F\u3092\u5F85\u3064\u3079\u304D\u6642\u671F\u3002\u7126\u3089\u305A\u529B\u3092\u84C4\u3048\u308B', keywords: ['\u5F85\u6A5F', '\u5FCD\u8010', '\u6E96\u5099', '\u6642\u6A5F'], changeType: 'stability', agencyType: 'waiting', timeHorizon: 'medium', relationScope: 'personal', emotionalQuality: 'cautious' },\n  6: { number: 6, name: '\u5929\u6C34\u8A1F', upper: '\u4E7E', lower: '\u574E', meaning: '\u4E89\u3044\u30FB\u8A34\u8A1F', situation: '\u5BFE\u7ACB\u30FB\u7D1B\u4E89\u304C\u8D77\u304D\u3084\u3059\u3044\u3002\u4E89\u3044\u306F\u907F\u3051\u3001\u59A5\u5354\u70B9\u3092\u63A2\u308B', keywords: ['\u4E89\u3044', '\u5BFE\u7ACB', '\u8A34\u8A1F', '\u4EF2\u88C1'], changeType: 'transformation', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'external', emotionalQuality: 'anxious' },\n  7: { number: 7, name: '\u5730\u6C34\u5E2B', upper: '\u5764', lower: '\u574E', meaning: '\u8ECD\u968A\u30FB\u7D71\u7387', situation: '\u7D44\u7E54\u3092\u7387\u3044\u308B\u6642\u671F\u3002\u898F\u5F8B\u3068\u7D71\u7387\u304C\u91CD\u8981', keywords: ['\u7D71\u7387', '\u7D44\u7E54', '\u898F\u5F8B', '\u30EA\u30FC\u30C0\u30FC'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'medium', relationScope: 'organizational', emotionalQuality: 'positive' },\n  8: { number: 8, name: '\u6C34\u5730\u6BD4', upper: '\u574E', lower: '\u5764', meaning: '\u89AA\u3057\u3080\u30FB\u56E3\u7D50', situation: '\u5354\u529B\u30FB\u9023\u643A\u306E\u6642\u671F\u3002\u4EF2\u9593\u3092\u96C6\u3081\u3001\u529B\u3092\u5408\u308F\u305B\u308B', keywords: ['\u56E3\u7D50', '\u5354\u529B', '\u89AA\u7766', '\u9023\u643A'], changeType: 'stability', agencyType: 'receptive', timeHorizon: 'medium', relationScope: 'organizational', emotionalQuality: 'positive' },\n  9: { number: 9, name: '\u98A8\u5929\u5C0F\u755C', upper: '\u5DFD', lower: '\u4E7E', meaning: '\u5C0F\u3055\u304F\u84C4\u3048\u308B', situation: '\u5927\u304D\u306A\u84C4\u7A4D\u306F\u3067\u304D\u306A\u3044\u304C\u3001\u5C11\u3057\u305A\u3064\u7A4D\u307F\u4E0A\u3052\u308B\u6642\u671F', keywords: ['\u84C4\u7A4D', '\u6291\u5236', '\u5C0F\u3055\u306A\u6210\u529F'], changeType: 'contraction', agencyType: 'waiting', timeHorizon: 'medium', relationScope: 'personal', emotionalQuality: 'cautious' },\n  10: { number: 10, name: '\u5929\u6CA2\u5C65', upper: '\u4E7E', lower: '\u514C', meaning: '\u614E\u91CD\u306B\u9032\u3080', situation: '\u5371\u967A\u3092\u8A8D\u8B58\u3057\u306A\u304C\u3089\u614E\u91CD\u306B\u9032\u3080\u6642\u671F\u3002\u793C\u7BC0\u3092\u5B88\u308B', keywords: ['\u614E\u91CD', '\u793C\u7BC0', '\u5371\u967A\u56DE\u907F'], changeType: 'stability', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'external', emotionalQuality: 'cautious' },\n  11: { number: 11, name: '\u5730\u5929\u6CF0', upper: '\u5764', lower: '\u4E7E', meaning: '\u5B89\u6CF0\u30FB\u7E41\u6804', situation: '\u5929\u5730\u304C\u4EA4\u308F\u308A\u4E07\u7269\u304C\u901A\u3058\u308B\u3002\u6700\u3082\u826F\u3044\u6642\u671F', keywords: ['\u7E41\u6804', '\u5B89\u6CF0', '\u8ABF\u548C', '\u6210\u529F'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'medium', relationScope: 'organizational', emotionalQuality: 'optimistic' },\n  12: { number: 12, name: '\u5929\u5730\u5426', upper: '\u4E7E', lower: '\u5764', meaning: '\u9589\u585E\u30FB\u505C\u6EDE', situation: '\u5929\u5730\u304C\u4EA4\u308F\u3089\u305A\u505C\u6EDE\u3059\u308B\u3002\u56F0\u96E3\u306A\u6642\u671F', keywords: ['\u505C\u6EDE', '\u9589\u585E', '\u56F0\u96E3', '\u5FCD\u8010'], changeType: 'contraction', agencyType: 'waiting', timeHorizon: 'long', relationScope: 'organizational', emotionalQuality: 'anxious' },\n  // 13-64\u306F\u7701\u7565\u5F62\u5F0F\u3067\u8FFD\u52A0\uFF08\u5B9F\u969B\u306E\u904B\u7528\u3067\u306F\u5B8C\u5168\u7248\u3092\u4F7F\u7528\uFF09\n  13: { number: 13, name: '\u5929\u706B\u540C\u4EBA', upper: '\u4E7E', lower: '\u96E2', meaning: '\u540C\u5FD7\u3068\u306E\u5354\u529B', situation: '\u5FD7\u3092\u540C\u3058\u304F\u3059\u308B\u4EF2\u9593\u3068\u529B\u3092\u5408\u308F\u305B\u308B\u6642\u671F', keywords: ['\u540C\u5FD7', '\u5354\u529B', '\u9023\u5E2F'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'medium', relationScope: 'organizational', emotionalQuality: 'positive' },\n  14: { number: 14, name: '\u706B\u5929\u5927\u6709', upper: '\u96E2', lower: '\u4E7E', meaning: '\u5927\u3044\u306B\u6240\u6709\u3059\u308B', situation: '\u5927\u304D\u306A\u6210\u679C\u3092\u5F97\u3089\u308C\u308B\u6642\u671F\u3002\u8B19\u865A\u3055\u3092\u5FD8\u308C\u305A\u306B', keywords: ['\u7E41\u6804', '\u6210\u529F', '\u6240\u6709'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'organizational', emotionalQuality: 'optimistic' },\n  15: { number: 15, name: '\u5730\u5C71\u8B19', upper: '\u5764', lower: '\u826E', meaning: '\u8B19\u865A\u30FB\u8B19\u905C', situation: '\u8B19\u865A\u306A\u59FF\u52E2\u304C\u6210\u529F\u3092\u3082\u305F\u3089\u3059\u6642\u671F', keywords: ['\u8B19\u865A', '\u8B19\u905C', '\u63A7\u3048\u3081'], changeType: 'stability', agencyType: 'receptive', timeHorizon: 'long', relationScope: 'personal', emotionalQuality: 'cautious' },\n  16: { number: 16, name: '\u96F7\u5730\u4E88', upper: '\u9707', lower: '\u5764', meaning: '\u559C\u3073\u30FB\u697D\u89B3', situation: '\u559C\u3073\u3068\u697D\u89B3\u306B\u6E80\u3061\u305F\u6642\u671F\u3002\u3057\u304B\u3057\u6162\u5FC3\u306B\u6CE8\u610F', keywords: ['\u559C\u3073', '\u697D\u89B3', '\u6E96\u5099'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'organizational', emotionalQuality: 'optimistic' },\n  17: { number: 17, name: '\u6CA2\u96F7\u968F', upper: '\u514C', lower: '\u9707', meaning: '\u5F93\u3046\u30FB\u968F\u3046', situation: '\u6642\u52E2\u306B\u5F93\u3044\u3001\u6D41\u308C\u306B\u4E57\u308B\u6642\u671F', keywords: ['\u968F\u9806', '\u5F93\u3046', '\u9069\u5FDC'], changeType: 'stability', agencyType: 'receptive', timeHorizon: 'medium', relationScope: 'personal', emotionalQuality: 'positive' },\n  18: { number: 18, name: '\u5C71\u98A8\u8831', upper: '\u826E', lower: '\u5DFD', meaning: '\u8150\u6557\u3092\u6B63\u3059', situation: '\u904E\u53BB\u306E\u554F\u984C\u3092\u6B63\u3057\u3001\u6539\u9769\u3059\u308B\u6642\u671F', keywords: ['\u6539\u9769', '\u4FEE\u6B63', '\u518D\u5EFA'], changeType: 'transformation', agencyType: 'active', timeHorizon: 'medium', relationScope: 'organizational', emotionalQuality: 'cautious' },\n  19: { number: 19, name: '\u5730\u6CA2\u81E8', upper: '\u5764', lower: '\u514C', meaning: '\u81E8\u3080\u30FB\u63A5\u8FD1', situation: '\u597D\u6A5F\u304C\u8FD1\u3065\u3044\u3066\u3044\u308B\u3002\u7A4D\u6975\u7684\u306B\u81E8\u3080\u6642\u671F', keywords: ['\u63A5\u8FD1', '\u597D\u6A5F', '\u7A4D\u6975'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'external', emotionalQuality: 'positive' },\n  20: { number: 20, name: '\u98A8\u5730\u89B3', upper: '\u5DFD', lower: '\u5764', meaning: '\u89B3\u5BDF\u30FB\u6D1E\u5BDF', situation: '\u5168\u4F53\u3092\u898B\u6E21\u3057\u3001\u72B6\u6CC1\u3092\u89B3\u5BDF\u3059\u308B\u6642\u671F', keywords: ['\u89B3\u5BDF', '\u6D1E\u5BDF', '\u7406\u89E3'], changeType: 'stability', agencyType: 'waiting', timeHorizon: 'long', relationScope: 'external', emotionalQuality: 'cautious' },\n  // 21-40\n  21: { number: 21, name: '\u706B\u96F7\u566C\u55D1', upper: '\u96E2', lower: '\u9707', meaning: '\u969C\u5BB3\u3092\u565B\u307F\u7815\u304F', situation: '\u969C\u5BB3\u3092\u53D6\u308A\u9664\u304D\u3001\u554F\u984C\u3092\u89E3\u6C7A\u3059\u308B\u6642\u671F', keywords: ['\u89E3\u6C7A', '\u65AD\u56FA', '\u514B\u670D'], changeType: 'transformation', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'organizational', emotionalQuality: 'positive' },\n  22: { number: 22, name: '\u5C71\u706B\u8CC1', upper: '\u826E', lower: '\u96E2', meaning: '\u98FE\u308A\u30FB\u7F8E', situation: '\u5916\u898B\u3092\u6574\u3048\u3001\u5F62\u5F0F\u3092\u91CD\u8996\u3059\u308B\u6642\u671F', keywords: ['\u7F8E', '\u5F62\u5F0F', '\u88C5\u98FE'], changeType: 'stability', agencyType: 'receptive', timeHorizon: 'medium', relationScope: 'personal', emotionalQuality: 'positive' },\n  23: { number: 23, name: '\u5C71\u5730\u5265', upper: '\u826E', lower: '\u5764', meaning: '\u5265\u843D\u30FB\u8870\u9000', situation: '\u7269\u4E8B\u304C\u5265\u3052\u843D\u3061\u308B\u6642\u671F\u3002\u7121\u7406\u306B\u52D5\u304B\u306A\u3044', keywords: ['\u8870\u9000', '\u5265\u843D', '\u5FCD\u8010'], changeType: 'contraction', agencyType: 'waiting', timeHorizon: 'long', relationScope: 'personal', emotionalQuality: 'anxious' },\n  24: { number: 24, name: '\u5730\u96F7\u5FA9', upper: '\u5764', lower: '\u9707', meaning: '\u5FA9\u5E30\u30FB\u518D\u751F', situation: '\u56DE\u5FA9\u3068\u518D\u751F\u306E\u6642\u671F\u3002\u65B0\u305F\u306A\u59CB\u307E\u308A', keywords: ['\u5FA9\u5E30', '\u518D\u751F', '\u56DE\u5FA9'], changeType: 'expansion', agencyType: 'waiting', timeHorizon: 'medium', relationScope: 'personal', emotionalQuality: 'optimistic' },\n  25: { number: 25, name: '\u5929\u96F7\u65E0\u5984', upper: '\u4E7E', lower: '\u9707', meaning: '\u7121\u5984\u30FB\u81EA\u7136', situation: '\u4F5C\u70BA\u306A\u304F\u81EA\u7136\u306B\u4EFB\u305B\u308B\u6642\u671F', keywords: ['\u81EA\u7136', '\u7121\u4F5C\u70BA', '\u8AA0\u5B9F'], changeType: 'stability', agencyType: 'receptive', timeHorizon: 'immediate', relationScope: 'personal', emotionalQuality: 'positive' },\n  26: { number: 26, name: '\u5C71\u5929\u5927\u755C', upper: '\u826E', lower: '\u4E7E', meaning: '\u5927\u3044\u306B\u84C4\u3048\u308B', situation: '\u529B\u3092\u5927\u3044\u306B\u84C4\u3048\u308B\u6642\u671F\u3002\u5927\u304D\u306A\u5668\u304C\u5FC5\u8981', keywords: ['\u84C4\u7A4D', '\u5FCD\u8010', '\u5927\u5668'], changeType: 'expansion', agencyType: 'waiting', timeHorizon: 'long', relationScope: 'organizational', emotionalQuality: 'cautious' },\n  27: { number: 27, name: '\u5C71\u96F7\u9824', upper: '\u826E', lower: '\u9707', meaning: '\u990A\u3046\u30FB\u80B2\u3066\u308B', situation: '\u81EA\u5206\u3084\u4ED6\u8005\u3092\u990A\u3044\u80B2\u3066\u308B\u6642\u671F', keywords: ['\u990A\u80B2', '\u6804\u990A', '\u80B2\u6210'], changeType: 'stability', agencyType: 'receptive', timeHorizon: 'long', relationScope: 'personal', emotionalQuality: 'cautious' },\n  28: { number: 28, name: '\u6CA2\u98A8\u5927\u904E', upper: '\u514C', lower: '\u5DFD', meaning: '\u904E\u5270\u30FB\u6975\u9650', situation: '\u9650\u754C\u3092\u8D85\u3048\u305F\u72B6\u614B\u3002\u614E\u91CD\u306A\u5BFE\u5FDC\u304C\u5FC5\u8981', keywords: ['\u904E\u5270', '\u6975\u9650', '\u8EE2\u63DB'], changeType: 'transformation', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'organizational', emotionalQuality: 'anxious' },\n  29: { number: 29, name: '\u574E\u70BA\u6C34', upper: '\u574E', lower: '\u574E', meaning: '\u967A\u96E3\u30FB\u56F0\u96E3', situation: '\u56F0\u96E3\u304C\u91CD\u306A\u308B\u6642\u671F\u3002\u8AA0\u610F\u3092\u6301\u3063\u3066\u5BFE\u51E6', keywords: ['\u56F0\u96E3', '\u967A\u96E3', '\u8AA0\u610F'], changeType: 'contraction', agencyType: 'waiting', timeHorizon: 'medium', relationScope: 'personal', emotionalQuality: 'anxious' },\n  30: { number: 30, name: '\u96E2\u70BA\u706B', upper: '\u96E2', lower: '\u96E2', meaning: '\u660E\u308B\u3055\u30FB\u4ED8\u7740', situation: '\u660E\u308B\u304F\u8F1D\u304F\u6642\u671F\u3002\u3057\u304B\u3057\u4F9D\u5B58\u306B\u6CE8\u610F', keywords: ['\u660E\u6670', '\u8F1D\u304D', '\u4ED8\u7740'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'external', emotionalQuality: 'positive' },\n  31: { number: 31, name: '\u6CA2\u5C71\u54B8', upper: '\u514C', lower: '\u826E', meaning: '\u611F\u5FDC\u30FB\u4EA4\u6D41', situation: '\u5FC3\u304C\u901A\u3058\u5408\u3046\u6642\u671F\u3002\u611F\u53D7\u6027\u3092\u5927\u5207\u306B', keywords: ['\u611F\u5FDC', '\u4EA4\u6D41', '\u5171\u611F'], changeType: 'expansion', agencyType: 'receptive', timeHorizon: 'immediate', relationScope: 'external', emotionalQuality: 'positive' },\n  32: { number: 32, name: '\u96F7\u98A8\u6052', upper: '\u9707', lower: '\u5DFD', meaning: '\u6301\u7D9A\u30FB\u6052\u5E38', situation: '\u7D99\u7D9A\u3068\u6301\u7D9A\u306E\u6642\u671F\u3002\u5909\u308F\u3089\u306C\u52AA\u529B', keywords: ['\u6301\u7D9A', '\u6052\u5E38', '\u7D99\u7D9A'], changeType: 'stability', agencyType: 'active', timeHorizon: 'long', relationScope: 'personal', emotionalQuality: 'cautious' },\n  33: { number: 33, name: '\u5929\u5C71\u906F', upper: '\u4E7E', lower: '\u826E', meaning: '\u9000\u304F\u30FB\u96A0\u308C\u308B', situation: '\u9000\u304F\u3079\u304D\u6642\u671F\u3002\u6226\u7565\u7684\u64A4\u9000', keywords: ['\u9000\u907F', '\u96A0\u9041', '\u64A4\u9000'], changeType: 'contraction', agencyType: 'waiting', timeHorizon: 'immediate', relationScope: 'personal', emotionalQuality: 'cautious' },\n  34: { number: 34, name: '\u96F7\u5929\u5927\u58EE', upper: '\u9707', lower: '\u4E7E', meaning: '\u5927\u3044\u306B\u76DB\u3093', situation: '\u529B\u304C\u6E80\u3061\u3066\u3044\u308B\u6642\u671F\u3002\u3057\u304B\u3057\u66B4\u8D70\u306B\u6CE8\u610F', keywords: ['\u58EE\u5927', '\u52E2\u3044', '\u529B'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'organizational', emotionalQuality: 'optimistic' },\n  35: { number: 35, name: '\u706B\u5730\u664B', upper: '\u96E2', lower: '\u5764', meaning: '\u9032\u3080\u30FB\u6607\u9032', situation: '\u9806\u8ABF\u306B\u9032\u3080\u6642\u671F\u3002\u6607\u9032\u3084\u767A\u5C55', keywords: ['\u9032\u6B69', '\u6607\u9032', '\u767A\u5C55'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'medium', relationScope: 'organizational', emotionalQuality: 'optimistic' },\n  36: { number: 36, name: '\u5730\u706B\u660E\u5937', upper: '\u5764', lower: '\u96E2', meaning: '\u660E\u304B\u308A\u304C\u50B7\u3064\u304F', situation: '\u624D\u80FD\u3092\u96A0\u3059\u6642\u671F\u3002\u5FCD\u8010\u304C\u5FC5\u8981', keywords: ['\u96A0\u853D', '\u5FCD\u8010', '\u4FDD\u8EAB'], changeType: 'contraction', agencyType: 'waiting', timeHorizon: 'long', relationScope: 'personal', emotionalQuality: 'anxious' },\n  37: { number: 37, name: '\u98A8\u706B\u5BB6\u4EBA', upper: '\u5DFD', lower: '\u96E2', meaning: '\u5BB6\u5EAD\u30FB\u5185\u90E8', situation: '\u5185\u90E8\u3092\u56FA\u3081\u308B\u6642\u671F\u3002\u5BB6\u5EAD\u3084\u7D44\u7E54\u5185\u306E\u8ABF\u548C', keywords: ['\u5BB6\u5EAD', '\u5185\u90E8', '\u8ABF\u548C'], changeType: 'stability', agencyType: 'receptive', timeHorizon: 'long', relationScope: 'personal', emotionalQuality: 'positive' },\n  38: { number: 38, name: '\u706B\u6CA2\u777D', upper: '\u96E2', lower: '\u514C', meaning: '\u80CC\u53CD\u30FB\u5BFE\u7ACB', situation: '\u610F\u898B\u304C\u5206\u304B\u308C\u308B\u6642\u671F\u3002\u5C0F\u4E8B\u304B\u3089\u59CB\u3081\u308B', keywords: ['\u5BFE\u7ACB', '\u80CC\u53CD', '\u5C0F\u4E8B'], changeType: 'transformation', agencyType: 'waiting', timeHorizon: 'medium', relationScope: 'external', emotionalQuality: 'cautious' },\n  39: { number: 39, name: '\u6C34\u5C71\u8E47', upper: '\u574E', lower: '\u826E', meaning: '\u8DB3\u8E0F\u307F\u30FB\u56F0\u96E3', situation: '\u9032\u3081\u306A\u3044\u6642\u671F\u3002\u7ACB\u3061\u6B62\u307E\u3063\u3066\u8003\u3048\u308B', keywords: ['\u56F0\u96E3', '\u8DB3\u8E0F\u307F', '\u505C\u6EDE'], changeType: 'contraction', agencyType: 'waiting', timeHorizon: 'medium', relationScope: 'personal', emotionalQuality: 'anxious' },\n  40: { number: 40, name: '\u96F7\u6C34\u89E3', upper: '\u9707', lower: '\u574E', meaning: '\u89E3\u653E\u30FB\u7DE9\u548C', situation: '\u56F0\u96E3\u304C\u89E3\u3051\u308B\u6642\u671F\u3002\u901F\u3084\u304B\u306B\u884C\u52D5', keywords: ['\u89E3\u653E', '\u7DE9\u548C', '\u89E3\u6C7A'], changeType: 'transformation', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'organizational', emotionalQuality: 'optimistic' },\n  // 41-64\n  41: { number: 41, name: '\u5C71\u6CA2\u640D', upper: '\u826E', lower: '\u514C', meaning: '\u6E1B\u3089\u3059\u30FB\u640D', situation: '\u6E1B\u3089\u3059\u3053\u3068\u3067\u5F97\u308B\u6642\u671F\u3002\u81EA\u5DF1\u72A0\u7272', keywords: ['\u640D\u5931', '\u6E1B\u5C11', '\u72A0\u7272'], changeType: 'contraction', agencyType: 'receptive', timeHorizon: 'medium', relationScope: 'personal', emotionalQuality: 'cautious' },\n  42: { number: 42, name: '\u98A8\u96F7\u76CA', upper: '\u5DFD', lower: '\u9707', meaning: '\u5897\u3084\u3059\u30FB\u76CA', situation: '\u5897\u3084\u3059\u6642\u671F\u3002\u7A4D\u6975\u7684\u306A\u884C\u52D5\u304C\u5B9F\u308B', keywords: ['\u5229\u76CA', '\u5897\u52A0', '\u767A\u5C55'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'organizational', emotionalQuality: 'optimistic' },\n  43: { number: 43, name: '\u6CA2\u5929\u592C', upper: '\u514C', lower: '\u4E7E', meaning: '\u6C7A\u65AD\u30FB\u6C7A\u884C', situation: '\u6C7A\u65AD\u306E\u6642\u671F\u3002\u65AD\u56FA\u3068\u3057\u3066\u884C\u52D5', keywords: ['\u6C7A\u65AD', '\u6C7A\u884C', '\u65AD\u56FA'], changeType: 'transformation', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'organizational', emotionalQuality: 'positive' },\n  44: { number: 44, name: '\u5929\u98A8\u59E4', upper: '\u4E7E', lower: '\u5DFD', meaning: '\u51FA\u4F1A\u3044\u30FB\u906D\u9047', situation: '\u4E88\u671F\u305B\u306C\u51FA\u4F1A\u3044\u306E\u6642\u671F\u3002\u614E\u91CD\u306B\u5BFE\u51E6', keywords: ['\u51FA\u4F1A\u3044', '\u906D\u9047', '\u614E\u91CD'], changeType: 'transformation', agencyType: 'receptive', timeHorizon: 'immediate', relationScope: 'external', emotionalQuality: 'cautious' },\n  45: { number: 45, name: '\u6CA2\u5730\u8403', upper: '\u514C', lower: '\u5764', meaning: '\u96C6\u307E\u308B\u30FB\u7D50\u96C6', situation: '\u4EBA\u304C\u96C6\u307E\u308B\u6642\u671F\u3002\u5354\u529B\u4F53\u5236\u3092\u7BC9\u304F', keywords: ['\u7D50\u96C6', '\u96C6\u5408', '\u5354\u529B'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'medium', relationScope: 'organizational', emotionalQuality: 'positive' },\n  46: { number: 46, name: '\u5730\u98A8\u5347', upper: '\u5764', lower: '\u5DFD', meaning: '\u6607\u308B\u30FB\u4E0A\u6607', situation: '\u7740\u5B9F\u306B\u4E0A\u6607\u3059\u308B\u6642\u671F\u3002\u52AA\u529B\u304C\u5B9F\u308B', keywords: ['\u4E0A\u6607', '\u6607\u9032', '\u767A\u5C55'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'medium', relationScope: 'organizational', emotionalQuality: 'optimistic' },\n  47: { number: 47, name: '\u6CA2\u6C34\u56F0', upper: '\u514C', lower: '\u574E', meaning: '\u56F0\u7AAE\u30FB\u82E6\u5883', situation: '\u56F0\u96E3\u306A\u72B6\u6CC1\u3002\u8A00\u8449\u3088\u308A\u884C\u52D5\u3067\u793A\u3059', keywords: ['\u56F0\u7AAE', '\u82E6\u5883', '\u5FCD\u8010'], changeType: 'contraction', agencyType: 'waiting', timeHorizon: 'medium', relationScope: 'personal', emotionalQuality: 'anxious' },\n  48: { number: 48, name: '\u6C34\u98A8\u4E95', upper: '\u574E', lower: '\u5DFD', meaning: '\u4E95\u6238\u30FB\u8CC7\u6E90', situation: '\u5909\u308F\u3089\u306C\u4FA1\u5024\u3092\u5B88\u308B\u6642\u671F\u3002\u57FA\u76E4\u3092\u5927\u5207\u306B', keywords: ['\u8CC7\u6E90', '\u57FA\u76E4', '\u5B89\u5B9A'], changeType: 'stability', agencyType: 'receptive', timeHorizon: 'long', relationScope: 'organizational', emotionalQuality: 'cautious' },\n  49: { number: 49, name: '\u6CA2\u706B\u9769', upper: '\u514C', lower: '\u96E2', meaning: '\u9769\u547D\u30FB\u6539\u9769', situation: '\u5927\u304D\u306A\u5909\u9769\u306E\u6642\u671F\u3002\u65E7\u3092\u6368\u3066\u65B0\u3092\u53D6\u308B', keywords: ['\u9769\u547D', '\u6539\u9769', '\u5909\u9769'], changeType: 'transformation', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'organizational', emotionalQuality: 'positive' },\n  50: { number: 50, name: '\u706B\u98A8\u9F0E', upper: '\u96E2', lower: '\u5DFD', meaning: '\u9F0E\u30FB\u5B89\u5B9A', situation: '\u65B0\u3057\u3044\u79E9\u5E8F\u3092\u78BA\u7ACB\u3059\u308B\u6642\u671F', keywords: ['\u5B89\u5B9A', '\u79E9\u5E8F', '\u78BA\u7ACB'], changeType: 'stability', agencyType: 'active', timeHorizon: 'medium', relationScope: 'organizational', emotionalQuality: 'positive' },\n  51: { number: 51, name: '\u9707\u70BA\u96F7', upper: '\u9707', lower: '\u9707', meaning: '\u96F7\u30FB\u9707\u52D5', situation: '\u885D\u6483\u7684\u306A\u51FA\u6765\u4E8B\u3002\u9A5A\u304D\u3092\u4E57\u308A\u8D8A\u3048\u308B', keywords: ['\u885D\u6483', '\u9707\u52D5', '\u899A\u9192'], changeType: 'transformation', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'personal', emotionalQuality: 'anxious' },\n  52: { number: 52, name: '\u826E\u70BA\u5C71', upper: '\u826E', lower: '\u826E', meaning: '\u6B62\u307E\u308B\u30FB\u9759\u6B62', situation: '\u52D5\u304D\u3092\u6B62\u3081\u308B\u6642\u671F\u3002\u5185\u7701\u3068\u7791\u60F3', keywords: ['\u9759\u6B62', '\u5185\u7701', '\u7791\u60F3'], changeType: 'stability', agencyType: 'waiting', timeHorizon: 'long', relationScope: 'personal', emotionalQuality: 'cautious' },\n  53: { number: 53, name: '\u98A8\u5C71\u6F38', upper: '\u5DFD', lower: '\u826E', meaning: '\u6F38\u9032\u30FB\u6BB5\u968E', situation: '\u6BB5\u968E\u7684\u306B\u9032\u3080\u6642\u671F\u3002\u7126\u3089\u306A\u3044', keywords: ['\u6F38\u9032', '\u6BB5\u968E', '\u7740\u5B9F'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'long', relationScope: 'personal', emotionalQuality: 'cautious' },\n  54: { number: 54, name: '\u96F7\u6CA2\u5E30\u59B9', upper: '\u9707', lower: '\u514C', meaning: '\u5AC1\u3050\u30FB\u5F93\u5C5E', situation: '\u4E3B\u4F53\u6027\u3092\u6301\u3061\u306B\u304F\u3044\u6642\u671F\u3002\u614E\u91CD\u306B', keywords: ['\u5F93\u5C5E', '\u614E\u91CD', '\u5FCD\u8010'], changeType: 'stability', agencyType: 'receptive', timeHorizon: 'medium', relationScope: 'external', emotionalQuality: 'cautious' },\n  55: { number: 55, name: '\u96F7\u706B\u8C4A', upper: '\u9707', lower: '\u96E2', meaning: '\u8C4A\u304B\u30FB\u7E41\u6804', situation: '\u6700\u3082\u8C4A\u304B\u306A\u6642\u671F\u3002\u3057\u304B\u3057\u8870\u9000\u306B\u5099\u3048\u308B', keywords: ['\u8C4A\u7A63', '\u7E41\u6804', '\u7D76\u9802'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'organizational', emotionalQuality: 'optimistic' },\n  56: { number: 56, name: '\u706B\u5C71\u65C5', upper: '\u96E2', lower: '\u826E', meaning: '\u65C5\u30FB\u79FB\u52D5', situation: '\u79FB\u52D5\u3084\u5909\u5316\u306E\u6642\u671F\u3002\u67D4\u8EDF\u306B\u5BFE\u5FDC', keywords: ['\u65C5', '\u79FB\u52D5', '\u5909\u5316'], changeType: 'transformation', agencyType: 'active', timeHorizon: 'medium', relationScope: 'external', emotionalQuality: 'cautious' },\n  57: { number: 57, name: '\u5DFD\u70BA\u98A8', upper: '\u5DFD', lower: '\u5DFD', meaning: '\u98A8\u30FB\u6D78\u900F', situation: '\u67D4\u8EDF\u306B\u6D78\u900F\u3059\u308B\u6642\u671F\u3002\u7A4F\u3084\u304B\u306A\u5F71\u97FF\u529B', keywords: ['\u6D78\u900F', '\u67D4\u8EDF', '\u9069\u5FDC'], changeType: 'expansion', agencyType: 'receptive', timeHorizon: 'long', relationScope: 'external', emotionalQuality: 'positive' },\n  58: { number: 58, name: '\u514C\u70BA\u6CA2', upper: '\u514C', lower: '\u514C', meaning: '\u559C\u3073\u30FB\u60A6\u3073', situation: '\u559C\u3073\u3068\u4EA4\u6D41\u306E\u6642\u671F\u3002\u30B3\u30DF\u30E5\u30CB\u30B1\u30FC\u30B7\u30E7\u30F3', keywords: ['\u559C\u3073', '\u4EA4\u6D41', '\u548C\u697D'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'immediate', relationScope: 'external', emotionalQuality: 'optimistic' },\n  59: { number: 59, name: '\u98A8\u6C34\u6E19', upper: '\u5DFD', lower: '\u574E', meaning: '\u6563\u308B\u30FB\u62E1\u6563', situation: '\u56FA\u307E\u3063\u305F\u3082\u306E\u304C\u6563\u308B\u6642\u671F\u3002\u67D4\u8EDF\u306B\u5BFE\u5FDC', keywords: ['\u62E1\u6563', '\u5206\u6563', '\u89E3\u6D88'], changeType: 'transformation', agencyType: 'active', timeHorizon: 'medium', relationScope: 'organizational', emotionalQuality: 'positive' },\n  60: { number: 60, name: '\u6C34\u6CA2\u7BC0', upper: '\u574E', lower: '\u514C', meaning: '\u7BC0\u5EA6\u30FB\u5236\u9650', situation: '\u7BC0\u5EA6\u3092\u5B88\u308B\u6642\u671F\u3002\u81EA\u5236\u304C\u5927\u5207', keywords: ['\u7BC0\u5EA6', '\u5236\u9650', '\u81EA\u5236'], changeType: 'contraction', agencyType: 'receptive', timeHorizon: 'medium', relationScope: 'personal', emotionalQuality: 'cautious' },\n  61: { number: 61, name: '\u98A8\u6CA2\u4E2D\u5B5A', upper: '\u5DFD', lower: '\u514C', meaning: '\u8AA0\u5B9F\u30FB\u4FE1\u983C', situation: '\u8AA0\u610F\u3092\u6301\u3063\u3066\u5BFE\u5FDC\u3059\u308B\u6642\u671F\u3002\u4FE1\u983C\u3092\u7BC9\u304F', keywords: ['\u8AA0\u5B9F', '\u4FE1\u983C', '\u771F\u5FC3'], changeType: 'stability', agencyType: 'active', timeHorizon: 'long', relationScope: 'external', emotionalQuality: 'positive' },\n  62: { number: 62, name: '\u96F7\u5C71\u5C0F\u904E', upper: '\u9707', lower: '\u826E', meaning: '\u5C0F\u3055\u304F\u904E\u304E\u308B', situation: '\u5C0F\u3055\u306A\u3053\u3068\u306B\u6CE8\u610F\u3059\u308B\u6642\u671F\u3002\u8B19\u865A\u306B', keywords: ['\u5C0F\u4E8B', '\u8B19\u865A', '\u6CE8\u610F'], changeType: 'contraction', agencyType: 'receptive', timeHorizon: 'immediate', relationScope: 'personal', emotionalQuality: 'cautious' },\n  63: { number: 63, name: '\u6C34\u706B\u65E2\u6E08', upper: '\u574E', lower: '\u96E2', meaning: '\u5B8C\u6210\u30FB\u6210\u5C31', situation: '\u7269\u4E8B\u304C\u5B8C\u6210\u3057\u305F\u6642\u671F\u3002\u3057\u304B\u3057\u7DAD\u6301\u306B\u6CE8\u610F', keywords: ['\u5B8C\u6210', '\u6210\u5C31', '\u7DAD\u6301'], changeType: 'stability', agencyType: 'waiting', timeHorizon: 'medium', relationScope: 'organizational', emotionalQuality: 'positive' },\n  64: { number: 64, name: '\u706B\u6C34\u672A\u6E08', upper: '\u96E2', lower: '\u574E', meaning: '\u672A\u5B8C\u6210\u30FB\u672A\u9054', situation: '\u307E\u3060\u5B8C\u6210\u3057\u3066\u3044\u306A\u3044\u6642\u671F\u3002\u614E\u91CD\u306B\u9032\u3081\u308B', keywords: ['\u672A\u5B8C\u6210', '\u7D99\u7D9A', '\u614E\u91CD'], changeType: 'expansion', agencyType: 'active', timeHorizon: 'long', relationScope: 'organizational', emotionalQuality: 'cautious' }\n};\n\n// ============================================================\n// Phase 1: \u8CEA\u554F\u5B9A\u7FA9\n// ============================================================\n\nexport const PHASE1_QUESTIONS: Phase1Question[] = [\n  {\n    id: 1,\n    axis: 'changeNature',\n    question: '\u4ECA\u3001\u3042\u306A\u305F\u304C\u76F4\u9762\u3057\u3066\u3044\u308B\u72B6\u6CC1\u306E\u5909\u5316\u306F\u3069\u306E\u3088\u3046\u306A\u3082\u306E\u3067\u3059\u304B\uFF1F',\n    options: [\n      { value: 0, label: '\u62E1\u5927\u30FB\u6210\u9577', description: '\u65B0\u3057\u3044\u3053\u3068\u3092\u59CB\u3081\u308B\u3001\u898F\u6A21\u3092\u5927\u304D\u304F\u3059\u308B\u3001\u53EF\u80FD\u6027\u3092\u5E83\u3052\u308B' },\n      { value: 1, label: '\u7E2E\u5C0F\u30FB\u6574\u7406', description: '\u624B\u653E\u3059\u3001\u6E1B\u3089\u3059\u3001\u96C6\u4E2D\u3059\u308B\u3001\u7D42\u308F\u3089\u305B\u308B' },\n      { value: 2, label: '\u73FE\u72B6\u7DAD\u6301', description: '\u4ECA\u306E\u72B6\u614B\u3092\u4FDD\u3064\u3001\u5B89\u5B9A\u3055\u305B\u308B\u3001\u5B88\u308B' },\n      { value: 3, label: '\u65B9\u5411\u8EE2\u63DB', description: '\u6839\u672C\u7684\u306B\u5909\u3048\u308B\u3001\u5225\u306E\u9053\u3092\u9078\u3076\u3001\u30EA\u30BB\u30C3\u30C8\u3059\u308B' }\n    ]\n  },\n  {\n    id: 2,\n    axis: 'agency',\n    question: '\u3053\u306E\u72B6\u6CC1\u306B\u5BFE\u3057\u3066\u3001\u3042\u306A\u305F\u306F\u3069\u306E\u3088\u3046\u306A\u59FF\u52E2\u3092\u53D6\u3063\u3066\u3044\u307E\u3059\u304B\uFF1F',\n    options: [\n      { value: 0, label: '\u81EA\u3089\u52D5\u304F', description: '\u4E3B\u5C0E\u6A29\u3092\u63E1\u308A\u3001\u7A4D\u6975\u7684\u306B\u884C\u52D5\u3057\u3066\u3044\u308B' },\n      { value: 1, label: '\u53D7\u3051\u6B62\u3081\u308B', description: '\u6D41\u308C\u306B\u5F93\u3044\u3001\u67D4\u8EDF\u306B\u5BFE\u5FDC\u3057\u3066\u3044\u308B' },\n      { value: 2, label: '\u5F85\u3064', description: '\u6642\u6A5F\u3092\u898B\u8A08\u3089\u3044\u3001\u69D8\u5B50\u3092\u898B\u3066\u3044\u308B' }\n    ]\n  },\n  {\n    id: 3,\n    axis: 'timeframe',\n    question: '\u3053\u306E\u72B6\u6CC1\u306F\u3001\u3069\u306E\u304F\u3089\u3044\u306E\u6642\u9593\u8EF8\u3067\u8003\u3048\u3066\u3044\u307E\u3059\u304B\uFF1F',\n    options: [\n      { value: 0, label: '\u4ECA\u3059\u3050', description: '\u7DCA\u6025\u6027\u304C\u9AD8\u3044\u3001\u3059\u3050\u306B\u7D50\u679C\u304C\u5FC5\u8981' },\n      { value: 1, label: '\u6570\u30F6\u6708', description: '\u4E2D\u671F\u7684\u306A\u8996\u70B9\u3067\u53D6\u308A\u7D44\u3080' },\n      { value: 2, label: '1\u5E74\u4EE5\u4E0A', description: '\u9577\u671F\u7684\u306A\u8996\u70B9\u3067\u8170\u3092\u636E\u3048\u3066\u53D6\u308A\u7D44\u3080' }\n    ]\n  },\n  {\n    id: 4,\n    axis: 'relationship',\n    question: '\u3053\u306E\u72B6\u6CC1\u306F\u4E3B\u306B\u3069\u306E\u7BC4\u56F2\u306B\u95A2\u308F\u308B\u3082\u306E\u3067\u3059\u304B\uFF1F',\n    options: [\n      { value: 0, label: '\u500B\u4EBA\u306E\u554F\u984C', description: '\u81EA\u5206\u81EA\u8EAB\u306E\u30AD\u30E3\u30EA\u30A2\u3001\u751F\u304D\u65B9\u3001\u5185\u9762\u306E\u554F\u984C' },\n      { value: 1, label: '\u7D44\u7E54\u5185', description: '\u4F1A\u793E\u3001\u30C1\u30FC\u30E0\u3001\u5BB6\u65CF\u306A\u3069\u6240\u5C5E\u3059\u308B\u7D44\u7E54\u306E\u4E2D\u306E\u554F\u984C' },\n      { value: 2, label: '\u5BFE\u5916\u95A2\u4FC2', description: '\u5916\u90E8\u3068\u306E\u95A2\u4FC2\u3001\u4EA4\u6E09\u3001\u65B0\u3057\u3044\u51FA\u4F1A\u3044' }\n    ]\n  },\n  {\n    id: 5,\n    axis: 'emotionalTone',\n    question: '\u4ECA\u306E\u3042\u306A\u305F\u306E\u6C17\u6301\u3061\u306B\u6700\u3082\u8FD1\u3044\u3082\u306E\u306F\u3069\u308C\u3067\u3059\u304B\uFF1F',\n    options: [\n      { value: 0, label: '\u524D\u5411\u304D\u30FB\u7A4D\u6975\u7684', description: '\u3084\u308B\u6C17\u304C\u3042\u308B\u3001\u30A8\u30CD\u30EB\u30AE\u30FC\u3092\u611F\u3058\u308B' },\n      { value: 1, label: '\u614E\u91CD\u30FB\u7528\u5FC3\u6DF1\u3044', description: '\u6CE8\u610F\u6DF1\u304F\u3001\u30EA\u30B9\u30AF\u3092\u8003\u3048\u3066\u3044\u308B' },\n      { value: 2, label: '\u4E0D\u5B89\u30FB\u5FC3\u914D', description: '\u5148\u884C\u304D\u304C\u4E0D\u900F\u660E\u3067\u3001\u5FC3\u914D\u304C\u3042\u308B' },\n      { value: 3, label: '\u697D\u89B3\u30FB\u671F\u5F85', description: '\u3046\u307E\u304F\u3044\u304F\u4E88\u611F\u304C\u3042\u308B\u3001\u5E0C\u671B\u3092\u611F\u3058\u308B' }\n    ]\n  }\n];\n\n// ============================================================\n// \u30B9\u30B3\u30A2\u30EA\u30F3\u30B0\u30ED\u30B8\u30C3\u30AF\n// ============================================================\n\nfunction calculateHexagramScores(answers: Phase1Answers): Map<number, number> {\n  const scores = new Map<number, number>();\n\n  // \u5909\u63DB\u30DE\u30C3\u30D7\n  const changeMap: Record<number, HexagramData['changeType']> = {\n    0: 'expansion', 1: 'contraction', 2: 'stability', 3: 'transformation'\n  };\n  const agencyMap: Record<number, HexagramData['agencyType']> = {\n    0: 'active', 1: 'receptive', 2: 'waiting'\n  };\n  const timeMap: Record<number, HexagramData['timeHorizon']> = {\n    0: 'immediate', 1: 'medium', 2: 'long'\n  };\n  const relationMap: Record<number, HexagramData['relationScope']> = {\n    0: 'personal', 1: 'organizational', 2: 'external'\n  };\n  const emotionMap: Record<number, HexagramData['emotionalQuality']> = {\n    0: 'positive', 1: 'cautious', 2: 'anxious', 3: 'optimistic'\n  };\n\n  const userChange = changeMap[answers.changeNature];\n  const userAgency = agencyMap[answers.agency];\n  const userTime = timeMap[answers.timeframe];\n  const userRelation = relationMap[answers.relationship];\n  const userEmotion = emotionMap[answers.emotionalTone];\n\n  // \u5404\u5366\u306E\u30B9\u30B3\u30A2\u3092\u8A08\u7B97\n  for (const hex of Object.values(HEXAGRAM_DATA)) {\n    let score = 0;\n\n    // \u91CD\u307F\u4ED8\u3051\u30B9\u30B3\u30A2\u30EA\u30F3\u30B0\n    if (hex.changeType === userChange) score += 25;\n    if (hex.agencyType === userAgency) score += 20;\n    if (hex.timeHorizon === userTime) score += 15;\n    if (hex.relationScope === userRelation) score += 20;\n    if (hex.emotionalQuality === userEmotion) score += 20;\n\n    // \u90E8\u5206\u4E00\u81F4\u30DC\u30FC\u30CA\u30B9\uFF08\u96A3\u63A5\u30AB\u30C6\u30B4\u30EA\uFF09\n    // \u4F8B\uFF1Aexpansion \u3068 stability \u306F\u96A3\u63A5\u3068\u3057\u3066\u6271\u3046\n    if (hex.changeType === 'expansion' && userChange === 'stability') score += 10;\n    if (hex.changeType === 'stability' && userChange === 'expansion') score += 10;\n    if (hex.changeType === 'contraction' && userChange === 'transformation') score += 10;\n    if (hex.changeType === 'transformation' && userChange === 'contraction') score += 10;\n\n    scores.set(hex.number, score);\n  }\n\n  return scores;\n}\n\nfunction getTopCandidates(scores: Map<number, number>, topK: number = 5): HexagramCandidate[] {\n  // \u30B9\u30B3\u30A2\u3067\u30BD\u30FC\u30C8\n  const sorted = [...scores.entries()].sort((a, b) => b[1] - a[1]);\n  const topScores = sorted.slice(0, topK);\n\n  // \u5408\u8A08\u30B9\u30B3\u30A2\uFF08\u78BA\u4FE1\u5EA6\u8A08\u7B97\u7528\uFF09\n  const totalScore = topScores.reduce((sum, [, score]) => sum + score, 0);\n\n  return topScores.map(([hexNum, score]) => {\n    const hex = HEXAGRAM_DATA[hexNum];\n    return {\n      hexagramNumber: hex.number,\n      name: hex.name,\n      confidence: totalScore > 0 ? score / totalScore : 0.2,\n      description: hex.situation,\n      keywords: hex.keywords\n    };\n  });\n}\n\n// ============================================================\n// Phase 2: \u9069\u5FDC\u578B\u8CEA\u554F\n// ============================================================\n\nfunction generateAdditionalQuestions(candidates: HexagramCandidate[]): Phase2Question[] {\n  if (candidates.length < 2) return [];\n\n  const top1 = HEXAGRAM_DATA[candidates[0].hexagramNumber];\n  const top2 = HEXAGRAM_DATA[candidates[1].hexagramNumber];\n\n  const questions: Phase2Question[] = [];\n\n  // changeType \u304C\u7570\u306A\u308B\u5834\u5408\n  if (top1.changeType !== top2.changeType) {\n    questions.push({\n      id: 'change_clarify',\n      question: '\u5909\u5316\u306E\u65B9\u5411\u306B\u3064\u3044\u3066\u3001\u3088\u308A\u8A73\u3057\u304F\u6559\u3048\u3066\u304F\u3060\u3055\u3044\u3002',\n      targetHexagrams: [top1.number, top2.number],\n      options: [\n        { value: 0, label: '\u65B0\u3057\u3044\u3082\u306E\u3092\u4F5C\u308A\u51FA\u3059\u3001\u5E83\u3052\u3066\u3044\u304F' },\n        { value: 1, label: '\u65E2\u5B58\u306E\u3082\u306E\u3092\u5B88\u308B\u3001\u7DAD\u6301\u3059\u308B' },\n        { value: 2, label: '\u6E1B\u3089\u3059\u3001\u624B\u653E\u3059\u3001\u7E2E\u5C0F\u3059\u308B' },\n        { value: 3, label: '\u6839\u672C\u304B\u3089\u5909\u3048\u308B\u3001\u30EA\u30BB\u30C3\u30C8\u3059\u308B' }\n      ]\n    });\n  }\n\n  // agencyType \u304C\u7570\u306A\u308B\u5834\u5408\n  if (top1.agencyType !== top2.agencyType) {\n    questions.push({\n      id: 'agency_clarify',\n      question: '\u3042\u306A\u305F\u306E\u7ACB\u5834\u306B\u3064\u3044\u3066\u3001\u3088\u308A\u8A73\u3057\u304F\u6559\u3048\u3066\u304F\u3060\u3055\u3044\u3002',\n      targetHexagrams: [top1.number, top2.number],\n      options: [\n        { value: 0, label: '\u81EA\u5206\u304C\u30EA\u30FC\u30C0\u30FC\u3068\u3057\u3066\u5F15\u3063\u5F35\u308B' },\n        { value: 1, label: '\u8AB0\u304B\u306E\u30B5\u30DD\u30FC\u30C8\u5F79\u3068\u3057\u3066\u52D5\u304F' },\n        { value: 2, label: '\u72B6\u6CC1\u3092\u89B3\u5BDF\u3057\u306A\u304C\u3089\u6642\u6A5F\u3092\u5F85\u3064' }\n      ]\n    });\n  }\n\n  return questions.slice(0, 3); // \u6700\u59273\u554F\n}\n\n// ============================================================\n// \u723B\u30EC\u30D9\u30EB\u5B9A\u7FA9\n// ============================================================\n\nconst YAO_DESCRIPTIONS: Record<number, { stage: string; description: string }> = {\n  1: { stage: '\u521D\u671F\u30FB\u6E96\u5099\u6BB5\u968E', description: '\u307E\u3060\u59CB\u307E\u3063\u305F\u3070\u304B\u308A\u3002\u6E96\u5099\u3092\u6574\u3048\u3001\u57FA\u76E4\u3092\u56FA\u3081\u308B\u6642\u671F\u3002\u7126\u3089\u305A\u614E\u91CD\u306B\u3002' },\n  2: { stage: '\u5C55\u958B\u30FB\u6210\u9577\u6BB5\u968E', description: '\u52D5\u304D\u51FA\u3057\u305F\u6BB5\u968E\u3002\u52E2\u3044\u304C\u51FA\u3066\u304D\u3066\u3044\u308B\u304C\u3001\u307E\u3060\u6CB9\u65AD\u3067\u304D\u306A\u3044\u3002\u7740\u5B9F\u306B\u9032\u3081\u308B\u3002' },\n  3: { stage: '\u8A66\u7DF4\u30FB\u56F0\u96E3\u6BB5\u968E', description: '\u56F0\u96E3\u3084\u969C\u5BB3\u306B\u76F4\u9762\u3059\u308B\u6BB5\u968E\u3002\u3053\u3053\u3092\u4E57\u308A\u8D8A\u3048\u308B\u304B\u3069\u3046\u304B\u304C\u5206\u304B\u308C\u76EE\u3002' },\n  4: { stage: '\u8EE2\u63DB\u30FB\u6C7A\u65AD\u6BB5\u968E', description: '\u91CD\u8981\u306A\u8EE2\u63DB\u70B9\u3002\u5927\u304D\u306A\u6C7A\u65AD\u304C\u6C42\u3081\u3089\u308C\u308B\u3002\u4E0A\u3078\u306E\u9053\u304C\u958B\u3051\u308B\u53EF\u80FD\u6027\u3002' },\n  5: { stage: '\u6210\u719F\u30FB\u6210\u679C\u6BB5\u968E', description: '\u6700\u3082\u826F\u3044\u4F4D\u7F6E\u3002\u6210\u679C\u304C\u73FE\u308C\u3001\u5F71\u97FF\u529B\u304C\u767A\u63EE\u3067\u304D\u308B\u3002\u3057\u304B\u3057\u6162\u5FC3\u306B\u6CE8\u610F\u3002' },\n  6: { stage: '\u7D42\u672B\u30FB\u79FB\u884C\u6BB5\u968E', description: '\u4E00\u3064\u306E\u30B5\u30A4\u30AF\u30EB\u306E\u7D42\u308F\u308A\u3002\u6B21\u3078\u306E\u79FB\u884C\u671F\u3002\u904E\u5270\u306B\u306A\u3089\u306A\u3044\u3088\u3046\u6CE8\u610F\u3002' }\n};\n\n// ============================================================\n// \u516C\u958BAPI\n// ============================================================\n\n/**\n * Phase 1: \u521D\u671F\u7D5E\u308A\u8FBC\u307F\n */\nexport function processPhase1(answers: Phase1Answers): Phase1Result {\n  const scores = calculateHexagramScores(answers);\n  const candidates = getTopCandidates(scores, 5);\n  const topConfidence = candidates[0]?.confidence || 0;\n\n  const needsAdditional = topConfidence < 0.35; // 35%\u672A\u6E80\u306A\u3089\u8FFD\u52A0\u8CEA\u554F\n  const additionalQuestions = needsAdditional ? generateAdditionalQuestions(candidates) : undefined;\n\n  return {\n    candidates,\n    needsAdditionalQuestions: needsAdditional,\n    additionalQuestions,\n    topConfidence\n  };\n}\n\n/**\n * Phase 2: \u8FFD\u52A0\u8CEA\u554F\u51E6\u7406\uFF08\u30B9\u30B3\u30A2\u8ABF\u6574\uFF09\n */\nexport function processPhase2(\n  phase1Answers: Phase1Answers,\n  phase2Answers: Record<string, number>\n): Phase1Result {\n  // Phase 1\u306E\u30B9\u30B3\u30A2\u3092\u518D\u8A08\u7B97\n  const scores = calculateHexagramScores(phase1Answers);\n\n  // Phase 2\u306E\u56DE\u7B54\u3067\u30B9\u30B3\u30A2\u3092\u8ABF\u6574\n  for (const [questionId, answer] of Object.entries(phase2Answers)) {\n    if (questionId === 'change_clarify') {\n      // changeType \u306B\u57FA\u3065\u304F\u8ABF\u6574\n      for (const [hexNum, score] of scores) {\n        const hex = HEXAGRAM_DATA[hexNum];\n        const changeMatch: Record<number, HexagramData['changeType']> = {\n          0: 'expansion', 1: 'stability', 2: 'contraction', 3: 'transformation'\n        };\n        if (hex.changeType === changeMatch[answer]) {\n          scores.set(hexNum, score + 15);\n        }\n      }\n    }\n    if (questionId === 'agency_clarify') {\n      for (const [hexNum, score] of scores) {\n        const hex = HEXAGRAM_DATA[hexNum];\n        const agencyMatch: Record<number, HexagramData['agencyType']> = {\n          0: 'active', 1: 'receptive', 2: 'waiting'\n        };\n        if (hex.agencyType === agencyMatch[answer]) {\n          scores.set(hexNum, score + 15);\n        }\n      }\n    }\n  }\n\n  const candidates = getTopCandidates(scores, 5);\n  const topConfidence = candidates[0]?.confidence || 0;\n\n  return {\n    candidates,\n    needsAdditionalQuestions: false,\n    topConfidence\n  };\n}\n\n/**\n * Phase 3: \u30E6\u30FC\u30B6\u30FC\u9078\u629E\u5F8C\u306E\u723B\u30AA\u30D7\u30B7\u30E7\u30F3\u53D6\u5F97\n */\nexport function getYaoOptions(hexagramNumber: number): SelectionResult {\n  const hex = HEXAGRAM_DATA[hexagramNumber];\n  if (!hex) {\n    throw new Error(`Hexagram ${hexagramNumber} not found`);\n  }\n\n  const yaoOptions: YaoOption[] = Object.entries(YAO_DESCRIPTIONS).map(([yao, desc]) => ({\n    yao: parseInt(yao),\n    description: desc.description,\n    stage: desc.stage\n  }));\n\n  return {\n    hexagramNumber,\n    hexagramName: hex.name,\n    yaoOptions\n  };\n}\n\n/**\n * Phase 4: \u30D7\u30EC\u30D3\u30E5\u30FC\u7D50\u679C\u751F\u6210\n */\nexport function generatePreview(hexagramNumber: number, yao: number, caseCount: number = 0): PreviewResult {\n  const hex = HEXAGRAM_DATA[hexagramNumber];\n  if (!hex) {\n    throw new Error(`Hexagram ${hexagramNumber} not found`);\n  }\n\n  const yaoDesc = YAO_DESCRIPTIONS[yao];\n  if (!yaoDesc) {\n    throw new Error(`Yao ${yao} not found`);\n  }\n\n  return {\n    hexagramNumber,\n    hexagramName: hex.name,\n    yao,\n    summary: `\u3010${hex.name}\u30FB${yaoDesc.stage}\u3011\\n${hex.situation}\\n\\n${yaoDesc.description}`,\n    caseCount,\n    distribution: {\n      '\u30AD\u30E3\u30EA\u30A2\u8EE2\u63DB': Math.floor(caseCount * 0.4),\n      '\u4E8B\u696D\u7ACB\u3061\u4E0A\u3052': Math.floor(caseCount * 0.3),\n      '\u7D44\u7E54\u5909\u9769': Math.floor(caseCount * 0.2),\n      '\u305D\u306E\u4ED6': Math.floor(caseCount * 0.1)\n    },\n    paidContentPreview: [\n      '\u5177\u4F53\u7684\u306A\u985E\u4F3C\u4E8B\u4F8B3\u4EF6\u306E\u8A73\u7D30\u5206\u6790',\n      '\u3042\u306A\u305F\u306E\u72B6\u6CC1\u306B\u57FA\u3065\u3044\u305F90\u65E5\u884C\u52D5\u8A08\u753B',\n      '\u5931\u6557\u30D1\u30BF\u30FC\u30F3\u3068\u305D\u306E\u56DE\u907F\u7B56',\n      '\u6B21\u306E\u30B9\u30C6\u30C3\u30D7\u3078\u306E\u5177\u4F53\u7684\u306A\u30A2\u30C9\u30D0\u30A4\u30B9'\n    ]\n  };\n}\n", "/**\n * HaQei API - Cloudflare Workers \u30A8\u30F3\u30C8\u30EA\u30FC\u30DD\u30A4\u30F3\u30C8\n *\n * \u6613\u7D4C\u8A3A\u65ADAPI\u306E\u30E1\u30A4\u30F3\u30A8\u30F3\u30C8\u30EA\u30FC\u30DD\u30A4\u30F3\u30C8\n */\n\nimport { validateLicense, extractLicenseKey } from './license';\nimport { handleWebhookRequest } from './webhook';\nimport { checkRateLimit, rateLimitResponse, DEFAULT_RATE_LIMIT } from './ratelimit';\nimport { computeDiagnosis, createPreviewResponse, createFullResponse, type DiagnosisInput } from './diagnose';\nimport { searchCases, findSimilarCases, type CaseSearchParams } from './cases';\n// v2 \u8A3A\u65AD\u30A8\u30F3\u30B8\u30F3\nimport {\n  processPhase1,\n  processPhase2,\n  getYaoOptions,\n  generatePreview,\n  PHASE1_QUESTIONS,\n  type Phase1Answers\n} from './diagnose-v2';\n\nexport interface Env {\n  DB: D1Database;\n  ALLOWED_ORIGINS: string;\n  LEMON_SQUEEZY_WEBHOOK_SECRET?: string;\n}\n\nexport default {\n  async fetch(request: Request, env: Env, ctx: ExecutionContext): Promise<Response> {\n    const url = new URL(request.url);\n    const path = url.pathname;\n\n    // CORS \u30D8\u30C3\u30C0\u30FC\n    const corsHeaders = getCorsHeaders(request, env.ALLOWED_ORIGINS);\n\n    // Preflight\n    if (request.method === 'OPTIONS') {\n      return new Response(null, { headers: corsHeaders });\n    }\n\n    try {\n      // \u30EB\u30FC\u30C6\u30A3\u30F3\u30B0\n      // Health check\n      if (path === '/health') {\n        return json({ status: 'ok', timestamp: new Date().toISOString() }, corsHeaders);\n      }\n\n      // Webhook (Lemon Squeezy)\n      if (path === '/webhook' && request.method === 'POST') {\n        const secret = env.LEMON_SQUEEZY_WEBHOOK_SECRET || '';\n        return handleWebhookRequest(request, env.DB, secret);\n      }\n\n      // \u30EC\u30FC\u30C8\u5236\u9650\u30C1\u30A7\u30C3\u30AF\uFF08API\u5168\u4F53\uFF09\n      const clientIP = request.headers.get('CF-Connecting-IP') || 'unknown';\n      const rateLimit = await checkRateLimit(env.DB, clientIP, DEFAULT_RATE_LIMIT);\n      if (!rateLimit.allowed) {\n        return rateLimitResponse(rateLimit);\n      }\n\n      // \u8A3A\u65ADAPI\uFF08\u30D7\u30EC\u30D3\u30E5\u30FC - \u8A8D\u8A3C\u4E0D\u8981\uFF09\n      if (path === '/diagnose/preview' && request.method === 'POST') {\n        const body = await request.json() as DiagnosisInput;\n        const result = computeDiagnosis(body);\n        const preview = createPreviewResponse(result);\n        return json(preview, corsHeaders);\n      }\n\n      // \u8A3A\u65ADAPI\uFF08\u30D5\u30EB - \u8A8D\u8A3C\u5FC5\u8981\uFF09\n      if (path === '/diagnose/full' && request.method === 'POST') {\n        const authHeader = request.headers.get('Authorization');\n        const licenseKey = extractLicenseKey(authHeader);\n\n        if (!licenseKey) {\n          return json({ error: 'Unauthorized: License key required' }, corsHeaders, 401);\n        }\n\n        const validation = await validateLicense(licenseKey, env.DB);\n        if (!validation.valid) {\n          return json({ error: 'Unauthorized: Invalid license key' }, corsHeaders, 401);\n        }\n\n        const body = await request.json() as DiagnosisInput;\n        const result = computeDiagnosis(body);\n\n        // \u985E\u4F3C\u4E8B\u4F8B\u3092\u53D6\u5F97\n        const similarCases = await findSimilarCases(\n          env.DB,\n          result.beforeTrigram as '\u4E7E' | '\u5764' | '\u9707' | '\u5DFD' | '\u574E' | '\u96E2' | '\u826E' | '\u514C',\n          result.afterTrigram as '\u4E7E' | '\u5764' | '\u9707' | '\u5DFD' | '\u574E' | '\u96E2' | '\u826E' | '\u514C',\n          5\n        );\n\n        const fullResponse = createFullResponse(result);\n        return json({ ...fullResponse, similarCases }, corsHeaders);\n      }\n\n      // \u4E8B\u4F8B\u691C\u7D22API\uFF08\u8A8D\u8A3C\u5FC5\u8981\uFF09\n      if (path === '/cases/search' && request.method === 'GET') {\n        const authHeader = request.headers.get('Authorization');\n        const licenseKey = extractLicenseKey(authHeader);\n\n        if (!licenseKey) {\n          return json({ error: 'Unauthorized: License key required' }, corsHeaders, 401);\n        }\n\n        const validation = await validateLicense(licenseKey, env.DB);\n        if (!validation.valid) {\n          return json({ error: 'Unauthorized: Invalid license key' }, corsHeaders, 401);\n        }\n\n        // \u30AF\u30A8\u30EA\u30D1\u30E9\u30E1\u30FC\u30BF\u304B\u3089\u691C\u7D22\u6761\u4EF6\u3092\u53D6\u5F97\n        const params: CaseSearchParams = {};\n        const patternType = url.searchParams.get('pattern_type');\n        const beforeHex = url.searchParams.get('before_hex');\n        const afterHex = url.searchParams.get('after_hex');\n        const scale = url.searchParams.get('scale');\n\n        if (patternType) params.pattern_type = patternType as CaseSearchParams['pattern_type'];\n        if (beforeHex) params.before_trigram = beforeHex as CaseSearchParams['before_trigram'];\n        if (afterHex) params.after_trigram = afterHex as CaseSearchParams['after_trigram'];\n        if (scale) params.scale = scale as CaseSearchParams['scale'];\n\n        const result = await searchCases(env.DB, params);\n        return json(result, corsHeaders);\n      }\n\n      // ============================================================\n      // v2 \u8A3A\u65ADAPI\uFF08\u65B0\u8A2D\u8A08: Top-k\u5019\u88DC + \u30E6\u30FC\u30B6\u30FC\u9078\u629E\u65B9\u5F0F\uFF09\n      // ============================================================\n\n      // v2: \u8CEA\u554F\u4E00\u89A7\u53D6\u5F97\n      if (path === '/v2/diagnose/questions' && request.method === 'GET') {\n        return json({ questions: PHASE1_QUESTIONS }, corsHeaders);\n      }\n\n      // v2: Phase 1 - \u521D\u671F\u7D5E\u308A\u8FBC\u307F\n      if (path === '/v2/diagnose/phase1' && request.method === 'POST') {\n        const body = await request.json() as { answers: Phase1Answers };\n        const result = processPhase1(body.answers);\n        return json(result, corsHeaders);\n      }\n\n      // v2: Phase 2 - \u8FFD\u52A0\u8CEA\u554F\u51E6\u7406\n      if (path === '/v2/diagnose/phase2' && request.method === 'POST') {\n        const body = await request.json() as {\n          phase1Answers: Phase1Answers;\n          phase2Answers: Record<string, number>;\n        };\n        const result = processPhase2(body.phase1Answers, body.phase2Answers);\n        return json(result, corsHeaders);\n      }\n\n      // v2: Phase 3 - \u30E6\u30FC\u30B6\u30FC\u9078\u629E\u5F8C\u306E\u723B\u30AA\u30D7\u30B7\u30E7\u30F3\u53D6\u5F97\n      if (path === '/v2/diagnose/select' && request.method === 'POST') {\n        const body = await request.json() as { hexagramNumber: number };\n        const result = getYaoOptions(body.hexagramNumber);\n        return json(result, corsHeaders);\n      }\n\n      // v2: Phase 4 - \u30D7\u30EC\u30D3\u30E5\u30FC\uFF08\u7121\u6599\uFF09\n      if (path === '/v2/diagnose/preview' && request.method === 'POST') {\n        const body = await request.json() as { hexagramNumber: number; yao: number };\n\n        // DB\u304B\u3089\u985E\u4F3C\u4E8B\u4F8B\u6570\u3092\u53D6\u5F97\n        let caseCount = 0;\n        try {\n          const countResult = await env.DB.prepare(\n            `SELECT COUNT(*) as count FROM cases\n             WHERE trigger_hex_number = ? OR result_hex_number = ?`\n          ).bind(body.hexagramNumber, body.hexagramNumber).first<{ count: number }>();\n          caseCount = countResult?.count || 0;\n        } catch {\n          // DB\u30A8\u30E9\u30FC\u6642\u306F0\u4EF6\u3068\u3057\u3066\u51E6\u7406\n          caseCount = 0;\n        }\n\n        const result = generatePreview(body.hexagramNumber, body.yao, caseCount);\n        return json(result, corsHeaders);\n      }\n\n      // v2: Phase 4 - \u30D5\u30EB\u5206\u6790\uFF08\u6709\u6599\u30FB\u8A8D\u8A3C\u5FC5\u8981\uFF09\n      if (path === '/v2/diagnose/full' && request.method === 'POST') {\n        const authHeader = request.headers.get('Authorization');\n        const licenseKey = extractLicenseKey(authHeader);\n\n        if (!licenseKey) {\n          return json({ error: 'Unauthorized: License key required' }, corsHeaders, 401);\n        }\n\n        const validation = await validateLicense(licenseKey, env.DB);\n        if (!validation.valid) {\n          return json({ error: 'Unauthorized: Invalid license key' }, corsHeaders, 401);\n        }\n\n        const body = await request.json() as { hexagramNumber: number; yao: number };\n\n        // \u985E\u4F3C\u4E8B\u4F8B\u3092\u53D6\u5F97\n        let similarCases: unknown[] = [];\n        try {\n          const casesResult = await env.DB.prepare(\n            `SELECT entity_name, domain, description, outcome, source_url\n             FROM cases\n             WHERE (trigger_hex_number = ? OR result_hex_number = ?)\n               AND yao_position = ?\n             LIMIT 5`\n          ).bind(body.hexagramNumber, body.hexagramNumber, body.yao).all();\n          similarCases = casesResult.results || [];\n        } catch {\n          similarCases = [];\n        }\n\n        const preview = generatePreview(body.hexagramNumber, body.yao, similarCases.length);\n\n        return json({\n          ...preview,\n          similarCases,\n          actionPlan: generateActionPlan(body.hexagramNumber, body.yao),\n          failurePatterns: generateFailurePatterns(body.hexagramNumber),\n          isFullVersion: true\n        }, corsHeaders);\n      }\n\n      // 404\n      return json({ error: 'Not Found' }, corsHeaders, 404);\n\n    } catch (error) {\n      console.error('API Error:', error);\n      const message = error instanceof Error ? error.message : 'Internal Server Error';\n      return json(\n        { error: message },\n        corsHeaders,\n        error instanceof Error && error.message.includes('required') ? 400 : 500\n      );\n    }\n  },\n};\n\n// JSON \u30EC\u30B9\u30DD\u30F3\u30B9\u30D8\u30EB\u30D1\u30FC\nfunction json(data: unknown, headers: Headers, status = 200): Response {\n  const responseHeaders = new Headers(headers);\n  responseHeaders.set('Content-Type', 'application/json');\n  return new Response(JSON.stringify(data), { status, headers: responseHeaders });\n}\n\n// CORS \u30D8\u30C3\u30C0\u30FC\u751F\u6210\nfunction getCorsHeaders(request: Request, allowedOrigins: string): Headers {\n  const origin = request.headers.get('Origin') || '';\n  const allowed = allowedOrigins.split(',').map(o => o.trim());\n  const headers = new Headers();\n\n  if (allowed.includes(origin) || allowed.includes('*')) {\n    headers.set('Access-Control-Allow-Origin', origin);\n  }\n\n  headers.set('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');\n  headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n  headers.set('Access-Control-Max-Age', '86400');\n\n  return headers;\n}\n\n// 90\u65E5\u884C\u52D5\u8A08\u753B\u751F\u6210\uFF08\u6709\u6599\u7248\u7528\uFF09\nfunction generateActionPlan(hexagramNumber: number, yao: number): string[] {\n  const yaoPlans: Record<number, string[]> = {\n    1: [\n      '\u30101-30\u65E5\u3011\u6E96\u5099\u671F\u9593: \u60C5\u5831\u53CE\u96C6\u3068\u8A08\u753B\u7ACB\u6848\u306B\u96C6\u4E2D\u3059\u308B',\n      '\u301031-60\u65E5\u3011\u5C0F\u3055\u306A\u4E00\u6B69: \u4F4E\u30EA\u30B9\u30AF\u306A\u5B9F\u9A13\u3092\u958B\u59CB\u3059\u308B',\n      '\u301061-90\u65E5\u3011\u632F\u308A\u8FD4\u308A: \u7D50\u679C\u3092\u5206\u6790\u3057\u3001\u6B21\u306E\u30B9\u30C6\u30C3\u30D7\u3092\u6C7A\u5B9A'\n    ],\n    2: [\n      '\u30101-30\u65E5\u3011\u5C55\u958B\u671F: \u8A08\u753B\u3092\u5B9F\u884C\u306B\u79FB\u3057\u3001\u30D5\u30A3\u30FC\u30C9\u30D0\u30C3\u30AF\u3092\u96C6\u3081\u308B',\n      '\u301031-60\u65E5\u3011\u8ABF\u6574\u671F: \u5F97\u3089\u308C\u305F\u77E5\u898B\u3092\u3082\u3068\u306B\u8ECC\u9053\u4FEE\u6B63',\n      '\u301061-90\u65E5\u3011\u52A0\u901F\u671F: \u6210\u529F\u30D1\u30BF\u30FC\u30F3\u3092\u62E1\u5927\u3059\u308B'\n    ],\n    3: [\n      '\u30101-30\u65E5\u3011\u8AB2\u984C\u76F4\u8996: \u554F\u984C\u306E\u6839\u672C\u539F\u56E0\u3092\u7279\u5B9A\u3059\u308B',\n      '\u301031-60\u65E5\u3011\u5BFE\u7B56\u5B9F\u884C: \u512A\u5148\u9806\u4F4D\u3092\u3064\u3051\u3066\u4E00\u3064\u305A\u3064\u89E3\u6C7A',\n      '\u301061-90\u65E5\u3011\u4E88\u9632\u7B56: \u540C\u3058\u554F\u984C\u304C\u8D77\u304D\u306A\u3044\u4ED5\u7D44\u307F\u3092\u69CB\u7BC9'\n    ],\n    4: [\n      '\u30101-30\u65E5\u3011\u9078\u629E\u80A2\u6574\u7406: \u53EF\u80FD\u306A\u9078\u629E\u80A2\u3092\u6D17\u3044\u51FA\u3059',\n      '\u301031-60\u65E5\u3011\u6C7A\u65AD\u5B9F\u884C: \u6700\u5584\u306E\u9078\u629E\u3092\u884C\u3044\u3001\u30B3\u30DF\u30C3\u30C8\u3059\u308B',\n      '\u301061-90\u65E5\u3011\u7D50\u679C\u691C\u8A3C: \u6C7A\u65AD\u306E\u7D50\u679C\u3092\u8A55\u4FA1\u3057\u3001\u5FC5\u8981\u306A\u3089\u4FEE\u6B63'\n    ],\n    5: [\n      '\u30101-30\u65E5\u3011\u6210\u679C\u78BA\u8A8D: \u9054\u6210\u3057\u305F\u3053\u3068\u3092\u6574\u7406\u3057\u3001\u6B21\u306E\u76EE\u6A19\u3092\u8A2D\u5B9A',\n      '\u301031-60\u65E5\u3011\u5F71\u97FF\u62E1\u5927: \u6210\u529F\u3092\u4ED6\u306E\u9818\u57DF\u306B\u3082\u5C55\u958B',\n      '\u301061-90\u65E5\u3011\u6301\u7D9A\u5316: \u6210\u679C\u3092\u7DAD\u6301\u3059\u308B\u4ED5\u7D44\u307F\u3092\u4F5C\u308B'\n    ],\n    6: [\n      '\u30101-30\u65E5\u3011\u53CE\u675F\u6E96\u5099: \u73FE\u30D5\u30A7\u30FC\u30BA\u306E\u7DE0\u3081\u304F\u304F\u308A\u3092\u8A08\u753B',\n      '\u301031-60\u65E5\u3011\u5F15\u304D\u7D99\u304E: \u6B21\u306E\u30B9\u30C6\u30FC\u30B8\u3078\u306E\u79FB\u884C\u6E96\u5099',\n      '\u301061-90\u65E5\u3011\u65B0\u7AE0\u958B\u59CB: \u65B0\u3057\u3044\u30B5\u30A4\u30AF\u30EB\u306E\u7B2C\u4E00\u6B69\u3092\u8E0F\u307F\u51FA\u3059'\n    ]\n  };\n\n  return yaoPlans[yao] || yaoPlans[1];\n}\n\n// \u5931\u6557\u30D1\u30BF\u30FC\u30F3\u751F\u6210\uFF08\u6709\u6599\u7248\u7528\uFF09\nfunction generateFailurePatterns(hexagramNumber: number): string[] {\n  // \u5366\u306E\u7279\u6027\u306B\u57FA\u3065\u304F\u5931\u6557\u30D1\u30BF\u30FC\u30F3\n  const patterns: string[] = [\n    '\u7126\u3063\u3066\u52D5\u304D\u3059\u304E\u308B: \u6642\u6A5F\u3092\u5F85\u305F\u305A\u306B\u884C\u52D5\u3057\u3001\u6A5F\u4F1A\u3092\u9003\u3059',\n    '\u5909\u5316\u3092\u6050\u308C\u3059\u304E\u308B: \u5FC5\u8981\u306A\u5909\u5316\u3092\u5148\u5EF6\u3070\u3057\u306B\u3057\u3066\u72B6\u6CC1\u304C\u60AA\u5316',\n    '\u4E00\u4EBA\u3067\u62B1\u3048\u8FBC\u3080: \u5354\u529B\u3092\u6C42\u3081\u305A\u3001\u9650\u754C\u3092\u8D85\u3048\u3066\u75B2\u5F0A',\n    '\u904E\u53BB\u306B\u56FA\u57F7\u3059\u308B: \u53E4\u3044\u65B9\u6CD5\u306B\u57F7\u7740\u3057\u3001\u65B0\u3057\u3044\u53EF\u80FD\u6027\u3092\u898B\u9003\u3059',\n    '\u697D\u89B3\u3057\u3059\u304E\u308B: \u30EA\u30B9\u30AF\u3092\u904E\u5C0F\u8A55\u4FA1\u3057\u3001\u5099\u3048\u3092\u6020\u308B'\n  ];\n\n  // \u5366\u756A\u53F7\u306B\u57FA\u3065\u3044\u3066\u9806\u5E8F\u3092\u5909\u3048\u308B\uFF08\u591A\u69D8\u6027\u306E\u305F\u3081\uFF09\n  const offset = hexagramNumber % patterns.length;\n  return [...patterns.slice(offset), ...patterns.slice(0, offset)].slice(0, 3);\n}\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/src/index.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/src/index.ts\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/.wrangler/tmp/bundle-Stb25v/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/.wrangler/tmp/bundle-Stb25v/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/Users/hideakimacbookair/Library/Mobile Documents/com~apple~CloudDocs/\u6613\u7D4C\u5909\u5316\u30ED\u30B7\u3099\u30C3\u30AFDB/api/.wrangler/tmp/bundle-Stb25v/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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",
  "names": []
}
