# LLM Debate: 質問UX設計v3の実装詳細

## 議題
質問UX設計v3の実装詳細

## Claude (Anthropic) の見解
設計v3の実装方針: (1)設問バンクは各軸3-5問で計15-20問を事前設計、スコアリングは加重平均で混合状態を数値化 (2)適応出題は信頼度70%閾値で判定、Phase1の2問で高判別→不足軸のみ追加 (3)UIは段階尺度をスライダーではなくボタン5つで実装（モバイル操作性重視）(4)「なぜこの結果か」は回答値と判定ロジックの対応をテンプレート化して自動生成 (5)KPIは自己納得度を結果画面に5段階で埋め込み、再テスト一致はユーザーIDで追跡。懸念点: 設問バンクの質問文が本当にユーザーに分かりやすいか、5段階評価の中央値偏り（3に集中）をどう防ぐか。

## Codex (OpenAI GPT-5.2) の批評
### 結論（最初に明言）
質問UX設計v3の「実装詳細」は現状のままでは成立していない。理由は、(1)測定モデル（スコアリング）が混合状態許容と矛盾し、(2)適応出題の「信頼度」が定義されておらず実装不能であり、(3)2〜5問で5軸を説明可能に判定するという主張が入力不足で論理的に不可能だからである。

### 批判的分析
**1) 論理的整合性（矛盾が確定している）**
- 「混合状態の許容」と言いながら、Q1/Q5のスコアリングが「最大値を主軸、2番目を副軸」で混合を潰している。これは混合状態の定量化ではなく、強制ラベル付けである。
- Phase1の設計が設問バンク設計と不整合である。設問バンクはCN1〜CN4を各5段階で測る設計なのに、Phase1では「CN統合版を複数選択＋順位付け」に変質している。どちらを実装するかが確定していない仕様は実装仕様として破綻している。
- agencyの定義が崩れている。AG1は「コントロール感」、AG2は「行動開始度」であり同一構成概念ではない。平均で3分類するのは誤りである。なぜなら「低いコントロール感でも能動的に動く」事例（制約下での実行）が平均で中庸に落ち、誤分類が必ず起きるからである。
- timeframeが二重概念になっている。TF1は「出来事の発生時期」、TF2は「意思決定の締切圧」であり、同一軸に混ぜると解釈が破綻する。ここを分離せずに既存Q3へ写像すると、説明不能が確定する。

**2) 実現可能性（実装というより“未定義”が多い）**
- 「信頼度70%」は実装不能である。信頼度の定義（確率、マージン、エントロピー、再現性推定）が提示されていないため、`adaptive-question.ts`に書くべきアルゴリズムが存在しない。
- 「最短2問・平均4問・最長5問」で5軸すべてを安定判定するのは不可能である。timeframe/relationship/emotionalToneはPhase1で入力が存在しないため、推定の根拠がゼロである。
- 見積り（合計約4日）は誤りである。最低限必要な(1)実験割当と永続化、(2)ユーザーID設計と同意、(3)ログスキーマと集計基盤、(4)質問文の校正と認知テスト、(5)説明文テンプレの破綻検知、が作業として欠落している。欠落作業をゼロ日で終える見積りは成立しない。

**3) 新規性の真偽（新規ではない）**
- 「行動指標化」「Likert尺度」「設問バンク」「適応出題」「説明可能性」「A/Bテスト」は既存手法の組み合わせである。新規性は“易経の内部分類軸へ写像するドメイン固有設計”に限定される。
- したがって勝負所は新規性ではなく妥当性（ユーザー回答→軸→易経結果の写像が正しいか）である。ここが未定義のまま「説明」を付けると、説明は根拠ではなく修辞になる。

**4) スケーラビリティ（運用で崩壊する構造）**
- 設問バンク方式は運用で質問が増える。現行の「max採用」や「単純閾値」は、設問追加で判定が非連続に変わり、結果がドリフトする。校正（重み・弁別力の推定）がないスケールは破綻する。
- 適応出題は「質問数が人によって違う」ため、A/Bで完了率や納得度を比較すると質問数差が交絡因子になる。交絡を切り分ける実験設計が欠けている。

**5) 反例・エッジケース（この仕様だと必ず壊れる）**
- CN1（拡大）もCN2（収縮）も高い「矛盾状態（攻めたいが減らしたい）」は現実に頻発する。max方式は片方を捨て、ユーザーの実感と乖離する。
- RL1で「自分自身」と「顧客」を同時選択した場合、ルールは対外に倒す。主影響が自己でも強制的に対外判定になり、説明が嘘になる。
- TF1「1年以上先」＋TF2「差し迫っている」は整合する（締切だけ近い）にもかかわらず、単一軸にすると矛盾データ扱いになり、信頼度計算が崩れる。
- ET1は同点が普通に出る（期待4・不安4）。max主軸は恣意的に決まり、結果が不安定になる。

**6) 代替案との比較（より優れた方法が明確に存在する）**
- 5軸×混合状態×少数質問を両立したいなら、「max」ではなく「確率分布（ソフトな推定）」が必須である。各軸をカテゴリ分布として推定し、確信度をエントロピーで定義すれば“信頼度70%”が数学的に実体化する。
- 「2問で全軸」ではなく「各軸最低1問」を必須にし、Phase1を5問にするのが筋である。2問に固執する設計は入力不足で必ず破綻する。

### Claudeの意見への反論/修正
- (1)「各軸3–5問で計15–20問」は方向性として正しいが、**加重平均だけでは不十分**である。重みの根拠（校正）がない加重平均は作者の主観であり、再現性を持たない。
- (2)「信頼度70%閾値」は**無意味**である。信頼度の定義がない閾値は数字遊びであり、実装するとチューニング地獄が確定する。
- (3)「5段階をスライダーではなくボタン」は正しい。モバイルでの操作性と誤操作率の観点でボタンが勝つ。
- (4)「テンプレート化して自動生成」は正しいが、**テンプレが“理由”になっていない**点を修正すべきである。回答の言い換えは説明ではない。判定に効いた根拠（寄与度）を表示して初めて説明になる。
- (5)「KPIに自己納得度と再テスト一致」は設計が甘い。**再テスト一致率>60%は目標として誤り**である。状況変化を扱う診断で一致率を上げると、診断が鈍感になる。測るなら「状況が同一だと自己申告した群での一致率」に限定し、さらに各軸の確信度と整合性を併記すべきである。
- 懸念点として挙げた「質問文の分かりやすさ」「中央値偏り」は正しい。ただし対策が不足している。中点偏りは「アンカー文言の強化」「逆方向項目」「4件法（中立なし）」のいずれかを採用して初めて抑制できる。

### より正確な見解
- この企画の核心は「内部軸の写像の妥当性」である。写像が妥当でない限り、UXだけ改善しても結果は納得感の演出に堕する。まず写像（回答→5軸→易経結果）の形式仕様を確定し、検証可能にせよ。
- 適応出題を名乗るなら、信頼度を「各軸のカテゴリ分布の最大確率」または「1位と2位の確率差」、全体確信度を「軸ごとのエントロピーの加重平均」として定義せよ。これで“70%”が実装可能な指標になる。
- Phase1は「2問」ではなく「各軸1問の最小セット（5問）」にせよ。2問で5軸を推定する設計は入力欠損なので不可能である。質問数を抑えたいなら、結果画面も「判定できた軸だけ提示」に落とすしかない。
- スコアリングはmax方式を捨て、混合を保持する方式（各軸の上位2カテゴリと確率、または連続スコア）に改めよ。混合許容を主張してmax採用は自己矛盾である。
- KPIは「完了率・納得度」だけでは不足である。最低限「各軸の確信度分布」「説明文読了率」「再受検時の自己申告状況一致条件付きの安定性」を入れ、A/BはUI差とアルゴリズム差を分離する実験設計にせよ。これが実務としての正道である。


## 統合分析

### 共通点
1. **設問バンク方式は正しい** - 動的生成ではなく事前設計が必要
2. **5段階ボタンUI** - モバイル操作性でスライダーより優位
3. **説明可能性の必要性** - 「なぜこの結果か」は必須

### 相違点（致命的な設計ミスの指摘）

| 項目 | Claude v3設計 | Codex批評 |
|------|---------------|-----------|
| **Phase 1質問数** | 2問で高判別 | 各軸最低1問=5問が必須。2問は入力不足 |
| **スコアリング** | max値で主軸/副軸 | 確率分布で混合保持。max方式は混合許容と矛盾 |
| **信頼度** | 70%閾値 | 定義なし=実装不能。エントロピーで定義必須 |
| **agency軸** | AG1+AG2の平均 | 別概念（コントロール感≠行動開始度）の混同 |
| **timeframe軸** | TF1+TF2 | 別概念（発生時期≠締切圧）の混同 |
| **KPI** | 再テスト一致率>60% | 状況変化診断で一致率目標は誤り |

### Codex批評の核心

**v3設計は「実装詳細」として成立していない。**

1. **論理矛盾**: 「混合状態許容」を謳いながらmax方式で強制ラベル付け
2. **定義不足**: 信頼度の数学的定義がなく実装不能
3. **入力不足**: 2問で5軸推定は論理的に不可能
4. **概念混同**: agency/timeframeで異なる構成概念を同一軸に混入

### 結論・推奨

**v3設計は破棄し、v4として再設計が必要。**

#### v4設計の必須要件

1. **Phase 1は5問固定**（各軸1問）
   - 2問で5軸推定を諦める
   - 質問数削減より測定妥当性を優先

2. **スコアリングは確率分布方式**
   ```
   changeNature: {拡大: 0.4, 収縮: 0.1, 維持: 0.3, 転換: 0.2}
   ```
   - max採用ではなく分布を保持
   - 混合状態を数値として表現

3. **信頼度の数学的定義**
   ```
   confidence = 1 - entropy(distribution) / max_entropy
   ```
   - エントロピーベースで定義
   - 「70%」が実装可能な指標に

4. **軸の概念整理**
   - agency: コントロール感のみ（AG1）
   - timeframe: 発生時期のみ（TF1）
   - 締切圧・行動開始度は別軸または削除

5. **KPI再設計**
   - 再テスト一致率 → 「状況同一申告群での一致率」
   - 追加: 各軸の確信度分布、説明文読了率

6. **中点偏り対策**
   - 4件法（中立なし）の採用を検討
   - または逆方向項目を設問バンクに追加

---

## 次のアクション

1. **v4設計書を作成** - 上記要件を反映
2. **写像の形式仕様** - 回答→5軸→易経結果の対応を明確化
3. **校正計画** - 設問の弁別力推定方法を設計

---
*生成日時: 2026-01-13T13:23:44.880Z*
*統合分析完了: 2026-01-13*
