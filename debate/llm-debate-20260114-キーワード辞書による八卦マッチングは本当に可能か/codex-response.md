# Codex (OpenAI GPT-5.2) の批評

### 結論（最初に明言）
**キーワード辞書による八卦（さらに64卦）マッチングで、自由記述テキストから卦を一意に「決定論」で確定する設計は成立しない。**  
成立させるには「辞書」ではなく、状況の構造化・競合解消規則・不確実性（候補順位や対話）を仕様として組み込む必要がある。

---

### 批判的分析

#### 1) 論理的整合性：前提が破綻している
- **「決定論にする」こと自体は無意味である。** アルゴリズムは入力が同じなら必ず同じ出力を返す。問題は「その出力が妥当で検証可能か」である。  
- **辞書マッチングは“卦の意味”を形式化していない。** 「この語があるからこの卦」という対応は根拠が循環する。なぜその卦かを説明する体系（軸・状態・因果・局面）が無い限り、辞書は単なる好みの貼り付けである。  
- **八卦/64卦のモデル差を無視している。** 八卦は抽象度が高いカテゴリ、64卦は内外（上卦・下卦）＋6爻の局面差を含む。キーワードは通常この粒度を持たない。粒度不一致のまま「当てる」設計は論理として崩壊する。

#### 2) 実現可能性：実装はできても運用が崩壊する
- **網羅性は不可能である。** 自然言語表現は無限に生成される。有限の辞書で「新しい表現が出てきたら対応できない」を解消できない。  
- **曖昧性は不可避である。** 「急成長」「内部崩壊」「対立」は、同じ語でも局面（原因/結果、内/外、短期/長期、制御可能/不能）で卦が変わる。語から局面は復元できない。  
- **否定・比喩・文脈依存で破綻する。** 「急成長“しない”」「争い“が収束”」「内部崩壊“を食い止めた”」は単語一致が誤判定を量産する。比喩（炎上、凍結、崩れる）も同様である。  
- **競合解消は辞書ではなく“規則体系”の実装になる。** 「複数キーワードが矛盾」「1語が複数卦」への対応は、結局は重み付け・優先度・時間順序・主語目的語の関係・セグメント分割を実装する話になる。これは辞書方式の利点（単純さ）を消し、欠点（恣意性）だけ残す。

#### 3) 新規性の真偽：新しくない
- **辞書ベース分類は既存手法の最古典である。** 新規性はゼロである。  
- 新規性が出るのは「易経の卦を、どの状態表現（軸・遷移・局面）に写像するか」という形式化に成功した場合だけである。辞書は形式化の代用品にならない。

#### 4) スケーラビリティ：規模が増えるほど悪化する
- **辞書が増えるほど衝突が増える。** 似た語が複数卦に入るほどスコアが拮抗し、同点処理が恣意的になる。  
- **ドメイン拡張で破綻する。** 経営、恋愛、医療、政治で「争い」「成長」「崩壊」の含意が変わる。ドメインごとに辞書を分岐させた瞬間、保守は指数的に重くなる。

#### 5) 反例・エッジケース：設計が破綻する具体例
- **複合状況**：「急成長したが内部崩壊しかけ、外部と訴訟になった」  
  単語は多数の卦を同時に指し、しかも局面が時間順に変化している。単発の卦に畳み込む仕様が無い限り、辞書は必ず破綻する。  
- **主語が複数**：「社内は結束、競合とは対立」  
  “内は和、外は争”は上卦下卦の分離が必要だが、単語一致では区別できない。  
- **評価語の反転**：「健全なリストラ」「痛みを伴う成長」  
  「崩壊」「削減」が常に凶とは限らない。易経も同じ語義で単純善悪を決めない。  
- **短文**：「詰んだ」「やばい」  
  情報量が不足しており、64分類は数学的に過剰である。過剰分類はノイズで埋まる。

#### 6) 代替案との比較：より優れたアプローチは存在する
- **伝統に忠実にするなら**：「状況→卦」ではなく「卦→解釈」で設計する。卦生成は乱数（または疑似乱数）で、テキストは解釈・助言生成の入力に使う。これは易経の筋が通る。  
- **状況から分類したいなら**：辞書ではなく、状況をいったん構造化（内/外、動/静、障害、主導権、局面の推移）し、その構造から卦を算出する。ここで初めて“決定論”が意味を持つ。

---

### Claudeの意見への反論/修正
- **「算出は決定論でLLMに任せない」は正しい前提ではない。** “再現性”という点では正しいが、自然言語から意味構造を取り出す工程を排除した時点で、精度は辞書の恣意性に支配される。決定論は品質保証ではない。  
- **「キーワード抽出→八卦マッチング」は誤りである。** キーワードは状況の局面・因果・内外を表現しない。易経の卦が表すのは「単語の集合」ではなく「構造と変化の型」である。構造が取れない設計は、卦の粒度に到達しない。  
- 修正するなら、次が最低条件である：  
  **(1) 状況を構造化する仕様**（内外・動静・障害・主導権・時間順序）を定義し、**(2) 競合解消規則**（重み、優先、分割、候補提示）を固定し、**(3) 出力を単一断定にしない**（上位候補と根拠）へ変更する。

---

### より正確な見解

#### 本質：問題は「辞書」ではなく「写像の定義」である
テキストから卦を判定するタスクは、**「何をもってその卦とするか」という形式仕様が無い限り不可能である。**  
易経の筮法が乱数ベースである点は本質ではない。本質は「状況を卦で“分類”する」行為が、観点選択（何を主要因と見なすか）を必ず含むことである。観点選択を仕様に落とさない限り、一意決定は成立しない。

#### 現実的な代替設計（用途別）
1) **占断プロダクト（易経らしさ優先）**  
   - 卦生成：乱数（またはテキストハッシュ種の疑似乱数）で決める  
   - 決定論：解釈ロジック・引用・助言生成を決定論で固定する  
   - テキスト：爻辞・彖伝などのどこを強調するかの入力に使う  
   これで「乱数の筋」と「再現性」を同時に満たす。

2) **状況分類プロダクト（分析ツール）**  
   - まず“状況モデル”を作る：例）内的要因/外的要因、拡大/収縮、衝突/調和、加速/停滞、制御可能性、局面（開始/成長/転換/崩壊/収束）  
   - 次に卦をそのモデル上の座標・遷移として定義する  
   - 出力は「単一卦の断言」ではなく「上位N候補＋どの軸が効いたか」にする  
   この設計だけが、検証・改善・運用が可能になる。

3) **ハイブリッド（最小コストで実用）**  
   - 辞書は“候補検索”に限定する（リコール重視）  
   - 最終決定はスコアリング規則＋ユーザー確認で確定する（精度と説明責任）  
   - ユーザーの選択ログで辞書と重みを更新する（保守の現実解）  
   辞書を“唯一の裁判官”にしないことが条件である。

要するに、**「キーワード辞書で当てる」発想は、卦を言葉のタグに矮小化しており、易経の対象（構造と変化）と噛み合っていない。** 辞書は補助にしかならない。
