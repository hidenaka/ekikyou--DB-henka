# LLM Debate: 改善計画v3の実現可能性と設計妥当性

## 議題
改善計画v3の実現可能性と設計妥当性

## Claude (Anthropic) の見解
v2批評の4点（主張単位評価・ソース単位レジストリ・階層ベイズの適正運用・重み付けクオータ）を全面的に反映した計画v3を策定した。主な変更点：(1)評価単位を記事からclaim（主張）に移行し二重ラベリングで再現性確保、(2)ドメイン固定からソース単位(domain+path_prefix+source_type)に拡張しCOIを主体関係で判定、(3)階層ベイズを表示ゲートではなく推定＋損失関数による意思決定に転換、(4)クオータを禁止から重み付けペナルティに変更。8週間で実装想定。ガバナンス体制も明示的に定義した。

## Codex (OpenAI GPT-5.2) の批評
### 結論（最初に明言）
改善計画v3は「方向性」は正しいが、**Gold定義・COI推定・階層ベイズの実装前提・KPI設計・8週間見積が誤りであり、このままでは品質改善計画として破綻している**。修正が必須である。

### 批判的分析
#### 1. 論理的整合性
- **Gold定義が自己矛盾である**。`verification_status IN ["verified","verifiable"]` をGoldに含める設計は「未検証をGoldと呼ぶ」ことを意味する。Gold precision≥90%というKPIと正面衝突する。未検証はGoldではない。
- **証拠の扱いが粗すぎる**。`secondary_source` を証拠としてGoldに許可するなら、独立性（相互参照・同一ソースの焼き直し）を判定しなければ成立しない。現設計に独立性の概念が存在しない。
- **ドメイン否定と言いながらドメインに戻っている**。`domain_tier` を0.3で入れる時点で「ドメイン固定の信頼性」を復活させている。v2の反省と矛盾する。
- **二重ラベリング運用が一貫していない**。Phase Aでは二重ラベリングを標準化し、リスク対策では「高不確実性のみ対象」と書く。監査設計の根幹が揺れている。

#### 2. 実現可能性（技術・実務・隠れコスト）
- **Phase Aの2週間は誤りである**。主張抽出・タイプ分類・根拠紐付けを「運用に耐える品質」にするには、(a)ラベル定義の収束、(b)アノテータ訓練、(c)合意形成、(d)評価データ作成が必須である。2週間でできるのはデモであり、基盤ではない。
- **COI判定ロジックが実装前提として破綻している**。`is_same_corporate_group` と `has_business_relationship` は“外部の関係データ”がないと計算不能である。自動化の難所を「関数呼び出し」で隠しているだけで、コストと失敗モードを未記述である。
- **ソース分類器の学習データが存在しない**。`source_type` や `author_credibility` を機械分類するなら教師データが要る。四半期100主張監査では量も分布も足りず、精度管理が成立しない。
- **階層Beta-Binomialを“共役だから簡単”とする主張は誤りである**。単純Beta-Binomialは共役だが、階層化してハイパーパラメータも推定するなら共役で閉じない。実装を簡単化するならEmpirical Bayes等の推定手順が要るが、計画に存在しない。
- **損失関数による意思決定は「最重要の仕様」なのに未定義である**。`expected_false_positive_loss` 等は、何がFP/FNか、真値をどう得るか、誰が損失比を決めるかが決まらないと計算不能である。ここを「ビジネス要件」へ丸投げしてスケジュールに組み込んでいないのは設計欠陥である。
- **Phase Dの1週間は法務・調達を軽視している**。多言語ソース調達と転載制限確認は、実務ではボトルネックである。1週間で終わる設計ではない。

#### 3. 新規性の真偽
- **新規性は低い**。主張単位の抽出・二重ラベリング・ソース単位レジストリ・COI付与・階層ベイズで部分プーリング・損失最小化・多目的最適化・ガバナンスは、既存の品質管理の定石である。v3の価値は「発明」ではなく「定石を正しく運用に落とす」点にある。新規性を売りにするとレビューで落ちる。

#### 4. スケーラビリティ
- **主張単位はスケールしない**。抽出・正規化・重複統合・根拠探索・検証は人手ボトルネックになる。四半期100主張の監査は規模拡大時に品質指標として無力である（分散が大きく、ソース単位に十分割り当たらない）。
- **ソース単位の粒度が運用コストを爆発させる**。`domain+path_prefix+source_type` はサイト改修で簡単に崩れる。レジストリの更新コストが監査より先に破綻する。
- **KPIがゲーム可能である**。CI幅≤0.3は強い事前分布で達成できる。品質が上がった事実を保証しない指標を中核に置いている。

#### 5. 反例・エッジケース
- **paywallは高品質を“unverifiable”に落とす**。検証不能＝低品質ではない。現設計は品質と可観測性を混同している。
- **同一事実の多重流通（コピー記事・提携配信）で独立性が崩壊する**。`secondary_source` を複数集めても同一源泉なら証拠にならない。独立性検知がないためGold汚染が起きる。
- **引用・伝聞・推測の混在がclaim_typeを破壊する**。「A氏は〜と述べた（事実）」と「〜である（主張）」を分離しないと、verifiable_factが汚染される。計画に引用構造の扱いがない。
- **多言語は翻訳誤差で“別主張”が生成される**。同一主張同定（canonicalization）がないと、監査・履歴精度・重複排除が崩壊する。

#### 6. 代替案との比較（より優れた設計が存在する）
- **Goldを二階建てにする設計が優れる**：`Gold-Verified`（検証済みのみ）と `Gold-Verifiable`（検証可能だが未検証）を分離し、プロダクト上は別扱いにする。これでKPIと定義が整合する。
- **COIは“推定”より“レジストリ優先”が優れる**：企業グループ・スポンサー・公式ブログは手動登録で確定し、自動は「sponsored検出」「社内ドメイン判定」など確実な範囲に限定する。`has_business_relationship` を自動化の中心に置く設計は失敗する。
- **source_unitは段階導入が優れる**：最初は `domain+source_type(+author_type)` に止め、問題が出たドメインだけ `path_prefix` を追加する。最初から細かく刻む設計は維持不能である。
- **統計は“モデル出力の妥当性検証”をKPIに入れるのが優れる**：CI幅ではなく、校正（calibration）と予測スコア（proper scoring rule）で評価する。幅だけ追う指標は不正確である。

### Claudeの意見への反論/修正
- 「v2批評4点を完全反映」は誤りである。**domain_tier**の導入でドメイン依存を温存し、**Goldに未検証（verifiable）を含める**ことで品質定義を破壊している。反映は部分的である。
- 階層ベイズの「共役で運用容易」は誤りである。階層化の推定手順が欠落しており、現状はスローガンである。
- 正しい点はある。評価単位を主張に寄せ、ゲートから損失最小化へ移行し、禁止クオータを重み付けに変え、ガバナンスを明文化した点はv2より明確に改善である。ただし、それだけでは実装計画として成立しない。

### より正確な見解
- v3の本質的価値は「設計思想の方向転換」であり、**実装計画として成立させるには定義と運用を“検証可能な形”に落とす再設計が必要である**。
- 最低限の修正は以下である：
  1) **Goldを“検証済みのみ”に限定**し、未検証は別ラベル（Silver等）に隔離する  
  2) **証拠の独立性と出所同定**（コピー・提携配信・同一一次情報）をスキーマに入れる  
  3) **COIは手動レジストリを主、確実な自動検出を従**にする（関係推定を中核に置かない）  
  4) **階層モデルは推定手順（Empirical Bayes等）を明記**し、KPIはCI幅ではなく校正・スコアに置く  
  5) **8週間は誤りである**。基盤として運用するなら、ラベリング設計と評価データ整備だけで追加期間が必要である。8週間でやるならスコープを「高精度のverifiable_fact抽出＋Gold-Verified運用」に切り、B〜Dは段階導入に変更するべきである。


## 統合分析

### 共通点
1. **方向性は正しい**: 主張単位評価、COI分離、統計改善、ガバナンス明文化という設計思想の転換は両者合意
2. **v2からの改善**: 禁止クオータ→重み付け、表示ゲート→損失最小化への転換は妥当
3. **定石の適用**: 新規性ではなく、既存の品質管理手法を正しく適用することが価値

### 相違点
| 論点 | Claude（v3） | Codex批評 | 判定 |
|------|-------------|-----------|------|
| Gold定義 | verified + verifiable | verifiedのみ | **Codex正しい** |
| 証拠独立性 | 未考慮 | 必須スキーマ | **Codex正しい** |
| domain_tier | 特徴量として30%維持 | ドメイン依存復活 | **Codex正しい** |
| COI自動化 | 関係推定で自動化 | 手動レジストリ主 | **Codex正しい** |
| 階層ベイズ | 共役で容易 | 推定手順要 | **Codex正しい** |
| 工数見積 | 8週間 | スコープ縮小必要 | **Codex正しい** |

### 結論・推奨

**Codex批評を全面的に受け入れる。v3は方向性のみ正しく、実装計画としては破綻している。**

#### 必須修正5点
1. **Gold二階建て化**: `Gold-Verified`（検証済み）と `Gold-Verifiable`（検証可能）を分離
2. **証拠独立性スキーマ**: コピー・提携配信・同一一次情報の検出を追加
3. **COI手動レジストリ優先**: 自動化は「sponsored検出」等の確実な範囲に限定
4. **統計KPI変更**: CI幅ではなく校正（calibration）と予測スコアで評価
5. **スコープ縮小**: 8週間で「verifiable_fact抽出＋Gold-Verified運用」のみ、他は段階導入

#### 現実的な実装ロードマップ
```
Phase 0（2週間）: 定義収束
  - claim_type/evidence_typeの厳密定義
  - アノテータガイドライン作成
  - パイロット100主張でラベル合意形成

Phase 1（4週間）: Gold-Verified基盤
  - 検証済み主張のみGold
  - 手動COIレジストリ構築
  - 二重ラベリング体制

Phase 2（運用後）: 段階拡張
  - 問題発生ドメインのみpath_prefix追加
  - 証拠独立性検出の自動化
  - 階層モデル導入（Empirical Bayes）
```

#### 本プロジェクト（易経変化ロジックDB）への適用
現行の品質管理（Gold/Silver/Bronze分類）に対し、以下を段階適用：
1. **短期**: COI手動レジストリ（tier4_corporate対応）
2. **中期**: 証拠独立性チェック（同一ニュースソースの重複検出）
3. **長期**: 主張単位評価（現行の事例単位から拡張）

---
*生成日時: 2026-01-13T12:48:58.369Z*
*統合分析: 2026-01-13T13:00:00.000Z*
